{"version":3,"file":"project-sunbird-sunbird-quml-player-v9.js","sources":["ng://@project-sunbird/sunbird-quml-player-v9/lib/util-service.ts","ng://@project-sunbird/sunbird-quml-player-v9/lib/quml-library.service.ts","ng://@project-sunbird/sunbird-quml-player-v9/lib/quml-library.component.ts","ng://@project-sunbird/sunbird-quml-player-v9/lib/mcq/mcq.component.ts","ng://@project-sunbird/sunbird-quml-player-v9/lib/sa/sa.component.ts","ng://@project-sunbird/sunbird-quml-player-v9/lib/header/header.component.ts","ng://@project-sunbird/sunbird-quml-player-v9/lib/mcq-question/mcq-question.component.ts","ng://@project-sunbird/sunbird-quml-player-v9/lib/mcq-option/mcq-option.component.ts","ng://@project-sunbird/sunbird-quml-player-v9/lib/quml-popup/quml-popup.component.ts","ng://@project-sunbird/sunbird-quml-player-v9/lib/mcq-image-option/mcq-image-option.component.ts","ng://@project-sunbird/sunbird-quml-player-v9/lib/icon/zoom-in/zoom-in.component.ts","ng://@project-sunbird/sunbird-quml-player-v9/lib/icon/star/star.component.ts","ng://@project-sunbird/sunbird-quml-player-v9/lib/icon/previous/previous.component.ts","ng://@project-sunbird/sunbird-quml-player-v9/lib/icon/next/next.component.ts","ng://@project-sunbird/sunbird-quml-player-v9/lib/icon/bookmark/bookmark.component.ts","ng://@project-sunbird/sunbird-quml-player-v9/lib/icon/hint/hint.component.ts","ng://@project-sunbird/sunbird-quml-player-v9/lib/icon/ans/ans.component.ts","ng://@project-sunbird/sunbird-quml-player-v9/lib/icon/share/share.component.ts","ng://@project-sunbird/sunbird-quml-player-v9/lib/icon/correct/correct.component.ts","ng://@project-sunbird/sunbird-quml-player-v9/lib/scoreboard/scoreboard.component.ts","ng://@project-sunbird/sunbird-quml-player-v9/lib/startpage/startpage.component.ts","ng://@project-sunbird/sunbird-quml-player-v9/lib/icon/timer/timer.component.ts","ng://@project-sunbird/sunbird-quml-player-v9/lib/icon/content/content.component.ts","ng://@project-sunbird/sunbird-quml-player-v9/lib/icon/startpagestaricon/startpagestaricon.component.ts","ng://@project-sunbird/sunbird-quml-player-v9/lib/icon/previous-active/previous-active.component.ts","ng://@project-sunbird/sunbird-quml-player-v9/lib/icon/next-active/next-active.component.ts","ng://@project-sunbird/sunbird-quml-player-v9/lib/alert/alert.component.ts","ng://@project-sunbird/sunbird-quml-player-v9/lib/icon/close/close.component.ts","ng://@project-sunbird/sunbird-quml-player-v9/lib/mcq-solutions/mcq-solutions.component.ts","ng://@project-sunbird/sunbird-quml-player-v9/lib/icon/durationtimer/durationtimer.component.ts","ng://@project-sunbird/sunbird-quml-player-v9/lib/icon/audio/audio.component.ts","ng://@project-sunbird/sunbird-quml-player-v9/lib/icon/wrong/wrong.component.ts","ng://@project-sunbird/sunbird-quml-player-v9/lib/icon/menu/menu.component.ts","ng://@project-sunbird/sunbird-quml-player-v9/lib/pipes/safe-html/safe-html.pipe.ts","ng://@project-sunbird/sunbird-quml-player-v9/lib/telemetry-constants.ts","ng://@project-sunbird/sunbird-quml-player-v9/lib/quml-question-cursor.service.ts","ng://@project-sunbird/sunbird-quml-player-v9/lib/services/viewer-service/viewer-service.ts","ng://@project-sunbird/sunbird-quml-player-v9/lib/main-player/main-player.component.ts","ng://@project-sunbird/sunbird-quml-player-v9/lib/section-player/section-player.component.ts","ng://@project-sunbird/sunbird-quml-player-v9/lib/quml-library.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport * as _ from 'lodash-es';\n\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class UtilService {\n\n    constructor() { }\n\n    public uniqueId(length = 32) {\n        let result = '';\n        const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n        const charactersLength = characters.length;\n        for (let i = 0; i < length; i++) {\n            result += characters.charAt(Math.floor(Math.random() * charactersLength));\n        }\n        return result;\n    }\n\n    public getTimeSpentText(pdfPlayerStartTime) {\n        const duration = new Date().getTime() - pdfPlayerStartTime;\n        const minutes = Math.floor(duration / 60000);\n        const seconds = Number(((duration % 60000) / 1000).toFixed(0));\n        return (minutes + ':' + (seconds < 10 ? '0' : '') + seconds);\n    }\n\n    public getKeyValue(keys) {\n        let key = keys.find((k) => {\n            return k.includes('response');\n        })\n        return key;\n    }\n\n    public getMultiselectScore(options, responseDeclaration) {\n        let key: any = this.getKeyValue(Object.keys(responseDeclaration));\n        const selectedOptionValue = options.map(option => option.value);\n        let score = responseDeclaration[key].correctResponse.outcomes.score ? responseDeclaration[key].correctResponse.outcomes.score : responseDeclaration.maxScore;\n        let correctValues = responseDeclaration[key].correctResponse.value;\n        let mapping = responseDeclaration[key]['mapping'];\n        if (_.isEqual(correctValues, selectedOptionValue)) {\n            return score;\n        } else if (!_.isEqual(correctValues, selectedOptionValue)) {\n            return selectedOptionValue.reduce((sum, index) => { sum += (mapping[index] ? mapping[index].outcomes.score : 0); return sum; }, 0);\n        }\n    }\n\n    hasDuplicates(selectedOptions, option) {\n        let duplicate = selectedOptions.find((o) => { return o.value === option.value });\n        return duplicate;\n    }\n\n    getQuestionType(questions, currentIndex) {\n            let index = currentIndex - 1 === -1 ? 0 : currentIndex-1;\n            return questions[index]['qType'];\n        \n    }\n\n    canGo(progressBarClass){\n    let attemptedParams = ['correct', 'wrong', 'attempted'];\n     return attemptedParams.includes(progressBarClass);\n    }\n\n    sumObjectsByKey(...objects) {\n        return objects.reduce((accumulator, currentValue) => {\n            for (const key in currentValue) {\n                if (currentValue.hasOwnProperty(key)) {\n                    accumulator[key] = (accumulator[key] || 0) + currentValue[key];\n                }\n            }\n            return accumulator;\n        }, {});\n    }\n}\n","import { EventEmitter, Injectable } from '@angular/core';\nimport { CsTelemetryModule } from '@project-sunbird/client-services/telemetry';\nimport { Context, IParentConfig, QumlPlayerConfig } from './quml-library-interface';\nimport { UtilService } from './util-service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class QumlLibraryService {\n  duration: number;\n  channel: string;\n  config: QumlPlayerConfig;\n  isSectionsAvailable = false;\n  telemetryEvent = new EventEmitter<any>();\n  private context: Context;\n  private telemetryObject: any;\n  private contentSessionId: string;\n  private playSessionId: string;\n  private pdata: any;\n  private sid: string;\n  private uid: string;\n  private rollup: any;\n\n  constructor(public utilService: UtilService) { }\n\n  initializeTelemetry(config: QumlPlayerConfig, parentConfig: IParentConfig) {\n    this.duration = new Date().getTime();\n    this.context = config.context;\n    this.contentSessionId = this.utilService.uniqueId();\n    this.playSessionId = this.utilService.uniqueId();\n    this.channel = this.context.channel || '';\n    this.pdata = this.context.pdata;\n    this.sid = this.context.sid;\n    this.uid = this.context.uid;\n    this.rollup = this.context.contextRollup;\n    this.config = config;\n    this.isSectionsAvailable = parentConfig?.isSectionsAvailable;\n\n    if (!CsTelemetryModule.instance.isInitialised) {\n      const telemetryConfig = {\n        pdata: this.context.pdata,\n        env: 'contentplayer',\n        channel: this.context.channel,\n        did: this.context.did,\n        authtoken: this.context.authToken || '',\n        uid: this.context.uid || '',\n        sid: this.context.sid,\n        batchsize: 20,\n        mode: this.context.mode,\n        host: this.context.host || '',\n        endpoint: this.context.endpoint || '/data/v3/telemetry',\n        tags: this.context.tags,\n        cdata: (this.context.cdata || []).concat([\n          { id: this.contentSessionId, type: 'ContentSession' },\n          { id: this.playSessionId, type: 'PlaySession' },\n          { id: '2.0', type: 'PlayerVersion' }\n        ])\n      };\n      CsTelemetryModule.instance.init({});\n      CsTelemetryModule.instance.telemetryService.initTelemetry(\n        {\n          config: telemetryConfig,\n          userOrgDetails: {}\n        }\n      );\n    }\n\n    this.telemetryObject = {\n      id: parentConfig.identifier,\n      type: 'Content',\n      ver: config.metadata.pkgVersion ? config.metadata.pkgVersion.toString() : '',\n      rollup: this.context.objectRollup || {}\n    };\n  }\n\n  public startAssesEvent(assesEvent) {\n    CsTelemetryModule.instance.telemetryService.raiseAssesTelemetry(\n      assesEvent,\n      this.getEventOptions()\n    );\n  }\n\n  public start(duration) {\n    CsTelemetryModule.instance.telemetryService.raiseStartTelemetry(\n      {\n        options: this.getEventOptions(),\n        edata: { type: 'content', mode: 'play', pageid: '', duration: Number((duration / 1e3).toFixed(2)) }\n      }\n    );\n  }\n\n  public response(identifier, version, type, option) {\n    const responseEvent = {\n      target: {\n        id: identifier,\n        ver: version,\n        type: type\n      },\n      type: 'CHOOSE',\n      values: [{\n        option\n      }]\n    };\n    CsTelemetryModule.instance.telemetryService.raiseResponseTelemetry(\n      responseEvent,\n      this.getEventOptions()\n    );\n  }\n\n  public summary(eData) {\n    CsTelemetryModule.instance.telemetryService.raiseSummaryTelemetry(\n      eData,\n      this.getEventOptions()\n    );\n  }\n\n  public end(duration, currentQuestionIndex, totalNoofQuestions, visitedQuestions, endpageseen, score) {\n    const durationSec = Number((duration / 1e3).toFixed(2));\n    CsTelemetryModule.instance.telemetryService.raiseEndTelemetry({\n      edata: {\n        type: 'content',\n        mode: 'play',\n        pageid: 'sunbird-player-Endpage',\n        summary: [\n          {\n            progress: Number(((currentQuestionIndex / totalNoofQuestions) * 100).toFixed(0))\n          },\n          {\n            totalNoofQuestions: totalNoofQuestions\n          },\n          {\n            visitedQuestions: visitedQuestions,\n          },\n          {\n            endpageseen\n          },\n          {\n            score\n          },\n        ],\n        duration: durationSec\n      },\n      options: this.getEventOptions()\n    });\n  }\n\n  public interact(id, currentPage, currentQuestionDetails?) {\n    CsTelemetryModule.instance.telemetryService.raiseInteractTelemetry({\n      options: this.getEventOptions(),\n      edata: { type: 'TOUCH', subtype: '', id, pageid: currentPage + '' }\n    });\n  }\n\n\n\n  public heartBeat(data) {\n    CsTelemetryModule.instance.playerTelemetryService.onHeartBeatEvent(data, {});\n  }\n\n  public impression(currentPage) {\n    CsTelemetryModule.instance.telemetryService.raiseImpressionTelemetry({\n      options: this.getEventOptions(),\n      edata: { type: 'workflow', subtype: '', pageid: currentPage + '', uri: '' }\n    });\n  }\n\n  public error(error: Error, edata?: { err: string, errtype: string }) {\n    CsTelemetryModule.instance.telemetryService.raiseErrorTelemetry({\n      options: this.getEventOptions(),\n      edata: {\n        err: 'LOAD',\n        errtype: 'content',\n        stacktrace: (error && error.toString()) || ''\n      }\n    });\n  }\n\n  public getEventOptions() {\n    const options = {\n      object: this.telemetryObject,\n      context: {\n        channel: this.channel || '',\n        pdata: this.pdata,\n        env: 'contentplayer',\n        sid: this.sid,\n        uid: this.uid,\n        cdata: (this.context.cdata || []).concat([{ id: this.contentSessionId, type: 'ContentSession' },\n        { id: this.playSessionId, type: 'PlaySession' },\n        { id: '2.0', type: 'PlayerVersion' }]),\n        rollup: this.rollup || {}\n      }\n    };\n    if (this.isSectionsAvailable) {\n      options.context.cdata.push({ id: this.config.metadata.identifier, type: 'SectionId' });\n    }\n\n    return options;\n  }\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'lib-quml-library',\n  template: `\n    <p>\n      quml-library works!\n    </p>\n  `,\n  styles: []\n})\nexport class QumlLibraryComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Component, OnInit, Input, SecurityContext, Output, EventEmitter, AfterViewInit } from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { katex } from 'katex';\nimport { UtilService } from '../util-service';\n\ndeclare var katex: any;\n\n@Component({\n  selector: 'quml-mcq',\n  templateUrl: './mcq.component.html',\n  styleUrls: ['./mcq.component.scss', '../quml-library.component.scss'],\n\n})\nexport class McqComponent implements OnInit, AfterViewInit {\n  @Input() public question?: any;\n  @Input() identifier: any;\n  @Input() public layout?: string;\n  @Input() replayed : boolean;\n  @Input() tryAgain?: boolean;\n  @Output() componentLoaded = new EventEmitter<any>();\n  @Output() answerChanged = new EventEmitter<any>();\n  @Output() optionSelected = new EventEmitter<number>();\n\n  mcqQuestion: any;\n  options: any;\n  mcqOptions: any[] = [];\n  selectedOptionTarget: any;\n  showQumlPopup = false;\n  solutions: Array<[]>;\n  cardinality: string;\n\n\n\n  constructor(\n    public domSanitizer: DomSanitizer , \n    public utilService: UtilService) {\n  }\n\n  async ngOnInit() {\n\n    if (this.question.solutions) {\n      this.solutions = this.question.solutions;\n    }\n    let  key:any = this.utilService.getKeyValue(Object.keys(this.question.responseDeclaration));\n    this.cardinality = this.question.responseDeclaration[key]['cardinality'];\n    if (this.question.templateId === \"mcq-vertical\") {\n      this.layout = 'DEFAULT';\n    } else if (this.question.templateId === \"mcq-horizontal\") {\n      this.layout = 'IMAGEGRID';\n    } else if (this.question.templateId === \"mcq-vertical-split\") {\n      this.layout = 'IMAGEQAGRID';\n    } else if (this.question.templateId === \"mcq-grid-split\") {\n      this.layout = 'MULTIIMAGEGRID';\n    }\n    this.renderLatex();\n    this.mcqQuestion = this.domSanitizer.sanitize(SecurityContext.HTML,\n      this.domSanitizer.bypassSecurityTrustHtml(this.question.body));\n    this.options = this.question.interactions[key].options;\n    this.initOptions();\n  }\n\n  ngAfterViewInit() {\n    const el = document.getElementsByClassName('mcq-options');\n    if (el != null && el.length > 0) {\n      el[0].remove();\n    }\n  }\n\n  initOptions() {\n    for (let j = 0; j < this.options.length; j++) {\n      let imageUrl;\n      if (this.options[j].url) {\n        imageUrl = this.options[j].url;\n      }\n      const option = this.options[j];\n      const optionValue = option.value.body;\n      const optionHtml = this.domSanitizer.sanitize(SecurityContext.HTML, this.domSanitizer.bypassSecurityTrustHtml(optionValue));\n      const selected = false;\n      const optionToBePushed: any = {};\n      optionToBePushed.index = j;\n      optionToBePushed.optionHtml = optionHtml;\n      optionToBePushed.selected = selected;\n      optionToBePushed.url = imageUrl;\n      this.mcqOptions.push(optionToBePushed);\n    }\n  }\n\n\n\n  renderLatex() {\n    const _instance = this;\n    setTimeout(function () {\n      _instance.replaceLatexText();\n      const images = document.getElementsByTagName('img');\n      if (images != null && images.length > 0) {\n      }\n    }, 100);\n  }\n\n  replaceLatexText() {\n    const questionElement = document.getElementById(this.identifier);\n    if (questionElement != null) {\n      const mathTextDivs = questionElement.getElementsByClassName('mathText');\n      for (let i = 0; i < mathTextDivs.length; i++) {\n        const mathExp = mathTextDivs[i];\n        const textToRender = mathExp.innerHTML;\n        katex.render(textToRender, mathExp, { displayMode: false, output: 'html', throwOnError: true });\n      }\n    }\n  }\n\n  onOptionSelect(event) {\n    const mcqOption = event.option;\n    const solutions = event.solutions;\n    this.mcqOptions.forEach(mcqOptionElement => {\n      if (mcqOptionElement.index === event.option.index) {\n        mcqOptionElement.selected = true;\n      } else {\n        mcqOptionElement.selected = false;\n      }\n    });\n    mcqOption.solutions = solutions;\n    this.getSelectedOptionAndResult(mcqOption);\n\n  }\n  optionSelectedInImage(event) {\n    this.onOptionSelect(event);\n  }\n\n  getSelectedOptionAndResult(optionObj) {\n    this.optionSelected.emit(optionObj);\n  }\n\n  showPopup() {\n    this.showQumlPopup = true;\n  }\n\n  closePopUp() {\n    this.showQumlPopup = false;\n  }\n\n}\n","import { AfterViewInit, Component, EventEmitter, Input, OnChanges, OnInit, Output } from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\n\n@Component({\n  selector: 'quml-sa',\n  templateUrl: './sa.component.html',\n  styleUrls: ['./sa.component.scss', '../quml-library.component.scss']\n})\nexport class SaComponent implements OnInit, OnChanges, AfterViewInit {\n\n  @Input() questions?: any;\n  @Input() replayed?: boolean;\n  @Input() baseUrl: string;\n  @Output() componentLoaded = new EventEmitter<any>();\n  @Output() showAnswerClicked = new EventEmitter<any>();\n\n  showAnswer = false;\n  solutions: any;\n  question: any;\n  answer: any;\n  constructor( public domSanitizer: DomSanitizer ) { }\n\n  ngOnChanges() {\n    if (this.replayed) {\n      this.showAnswer = false;\n    } else if (this.questions?.isAnswerShown) {\n      this.showAnswer = true;\n    }\n  }\n\n  showAnswerToUser() {\n    this.showAnswer = true;\n    this.showAnswerClicked.emit({\n      showAnswer: this.showAnswer\n    });\n  }\n\n  onEnter(event) {\n    if (event.keyCode === 13) {\n      event.stopPropagation();\n      this.showAnswerToUser();\n    }\n  }\n\n  handleKeyboardAccessibility() {\n    const elements = Array.from(document.getElementsByClassName('option-body') as HTMLCollectionOf<Element>);\n    elements.forEach((element: HTMLElement) => {\n      if (element.offsetHeight) {\n        const children = Array.from(element.querySelectorAll(\"a\"));\n        children.forEach((child: HTMLElement) => {\n            child.setAttribute('tabindex', '-1');\n        });\n      }\n    });\n  }\n\n  ngOnInit() {\n    this.question = this.questions.body;\n    this.answer = this.questions.answer;\n    this.solutions = this.questions.solutions;\n    this.questions.solutions.forEach(ele => {\n      if (ele.type === 'video' || ele.type === 'image') {\n        this.questions.media.forEach(e => {\n          if (ele.value === e.id) {\n            if (this.baseUrl) {\n              ele.src = `${this.baseUrl}/${this.questions.identifier}/${e.src}`;\n            } else {\n              ele.src = e.baseUrl ? e.baseUrl + e.src : e.src;\n            }\n\n            if (e.thumbnail) {\n              ele.thumbnail = e.thumbnail;\n            }\n          }\n        });\n      } \n    });\n  }\n\n  ngAfterViewInit() {\n    this.handleKeyboardAccessibility()\n  }\n}\n","import { Component, OnInit, Output, EventEmitter, Input, OnChanges, OnDestroy, AfterViewInit } from '@angular/core';\n\n\n@Component({\n  selector: 'quml-header',\n  templateUrl: './header.component.html',\n  styleUrls: ['./header.component.scss']\n})\nexport class HeaderComponent implements OnInit, OnChanges, AfterViewInit, OnDestroy {\n\n  @Input() questions?: any;\n  @Input() duration?: any;\n  @Input() warningTime?: string;\n  @Input() disablePreviousNavigation: boolean;\n  @Input() showTimer: boolean;\n  @Input() totalNoOfQuestions: any;\n  @Input() currentSlideIndex: any;\n  @Input() active: boolean;\n  @Input() initializeTimer: boolean;\n  @Input() endPageReached: boolean;\n  @Input() loadScoreBoard: boolean;\n  @Input() replayed: boolean;\n  @Input() currentSolutions: any;\n  @Input() showFeedBack: boolean;\n  @Output() nextSlideClicked = new EventEmitter<any>();\n  @Output() prevSlideClicked = new EventEmitter<any>();\n  @Output() durationEnds = new EventEmitter<any>();\n  @Output() showSolution = new EventEmitter<any>();\n  @Input() disableNext?: boolean;\n  @Input() startPageInstruction?: string;\n  @Input() showStartPage?: boolean;\n  @Input() attempts?: { max: number, current: number };\n  minutes: number;\n  seconds: string | number;\n  private intervalRef?;\n  showWarning = false;\n  isMobilePortrait = false;\n\n  time: any;\n  constructor() {\n  }\n\n\n  ngOnInit() {\n    if (this.duration && this.showTimer) {\n      this.minutes = Math.floor(this.duration / 60);\n      this.seconds = this.duration - this.minutes * 60 <  10 ? `0${this.duration - this.minutes * 60}`  :  this.duration - this.minutes * 60;\n    }\n  }\n\n  ngOnChanges() {\n    if (this.duration && this.showTimer && this.initializeTimer && !this.intervalRef) {\n      this.timer();\n    } else if (this.duration === 0 && this.showTimer && this.initializeTimer && !this.intervalRef) {\n      this.showCountUp();\n    }\n    if (this.replayed && this.duration && this.showTimer) {\n      this.showWarning = false;\n      clearInterval(this.intervalRef)\n      this.timer();\n    } else if (this.replayed && this.duration === 0 && this.showTimer) {\n      clearInterval(this.intervalRef)\n      this.showCountUp();\n    }\n  }\n\n  ngAfterViewInit() {\n    this.isMobilePortrait = window.matchMedia(\"(max-width: 480px)\").matches;;\n  }\n\n  ngOnDestroy() {\n    if (this.intervalRef) {\n      clearInterval(this.intervalRef);\n    }\n  }\n\n  nextSlide() {\n    if (!this.disableNext) {\n      this.nextSlideClicked.emit({ type: 'next' });\n    }\n  }\n\n  prevSlide() {\n    if(!this.showStartPage && this.currentSlideIndex === 1) {\n      return\n    }\n    if (!this.disablePreviousNavigation) {\n      this.prevSlideClicked.emit({ event: 'previous clicked' });\n    }\n  }\n\n  openNav() {\n    document.getElementById('mySidenav').style.width = '100%';\n    document.body.style.backgroundColor = 'rgba(0,0,0,0.4)';\n  }\n\n  closeNav() {\n    document.getElementById('mySidenav').style.width = '0';\n    document.body.style.backgroundColor = 'white';\n  }\n\n  timer() {\n    if (this.duration > 0) {\n      let durationInSec = this.duration;\n      this.intervalRef = setInterval(() => {\n        let min = ~~(durationInSec / 60);\n        let sec = (durationInSec % 60);\n        if (sec < 10) {\n          this.time = min + ':' + '0' + sec;\n        } else {\n          this.time = min + ':' + sec;\n        }\n        if (durationInSec === 0) {\n          clearInterval(this.intervalRef);\n          this.durationEnds.emit(true);\n          return false;\n        }\n        if (parseInt(durationInSec) <= parseInt(this.warningTime)) {\n          this.showWarning = true;\n        }\n        durationInSec--;\n      }, 1000);\n    }\n  }\n\n  showCountUp() {\n    let min = 0;\n    let sec = 0;\n    this.intervalRef = setInterval(() => {\n      if (sec === 59) {\n        sec = 0;\n        min = min + 1;\n      }\n      if (sec < 10) {\n        this.time = min + ':' + '0' + sec++;\n      } else {\n        this.time = min + ':' + sec++;\n      }\n    }, 1000);\n  }\n}\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\n\n@Component({\n  selector: 'quml-mcq-question',\n  templateUrl: './mcq-question.component.html',\n  styleUrls: ['./mcq-question.component.scss']\n})\nexport class McqQuestionComponent implements OnInit {\n\n  @Input() mcqQuestion: any;\n  @Output() showPopup = new EventEmitter();\n  @Input() layout: any;\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n  showQumlPopup() {\n    this.showPopup.emit();\n  }\n\n}\n","import { Component, Input, Output, EventEmitter, OnChanges } from '@angular/core';\nimport { UtilService } from '../util-service';\n\n@Component({\n  selector: 'quml-mcq-option',\n  templateUrl: './mcq-option.component.html',\n  styleUrls: ['./mcq-option.component.scss']\n})\nexport class McqOptionComponent implements OnChanges {\n\n  @Input() mcqOptions: any;\n  @Input() solutions: any;\n  @Input() layout: any;\n  @Input() cardinality: string;\n  @Output() showPopup = new EventEmitter();\n  @Output() optionSelected = new EventEmitter<any>();\n  selectedOption = []; \n  @Input() replayed : boolean;\n  @Input() tryAgain? : boolean;\n\n  constructor(\n    public utilService : UtilService\n  ) { }\n\n  ngOnChanges() {\n    if(this.replayed) {\n      this.mcqOptions.forEach((ele) => {\n         ele.selected = false;\n      })\n    }\n    if (this.tryAgain) {\n      this.unselectOption();\n    }\n  }\n\n  unselectOption(){\n    this.mcqOptions.forEach((ele) => {\n      ele.selected = false;\n    });\n    this.selectedOption = [];\n    this.optionSelected.emit(\n      {\n        name: 'optionSelect',\n        option: this.selectedOption,\n        cardinality: this.cardinality,\n        solutions: this.solutions\n      }\n    );\n  }\n\n  onOptionSelect(event, mcqOption) {\n    this.mcqOptions.forEach((ele) => {\n      if (this.cardinality === 'single') {\n        if (ele.label === mcqOption.label) {\n          ele.selected = true;\n        } else {\n          ele.selected = false;\n        }\n      } else if(this.cardinality === 'multiple') {\n        if (ele.label === mcqOption.label && !this.utilService.hasDuplicates(this.selectedOption , mcqOption)) {\n          ele.selected = true;\n          this.selectedOption.push(mcqOption)\n        }\n      }\n    });\n    this.optionSelected.emit(\n      {\n        name: 'optionSelect',\n        option: this.cardinality === 'single' ? mcqOption : this.selectedOption,\n        cardinality: this.cardinality,\n        solutions: this.solutions\n      }\n    );\n  }\n\n  onImageOptionSelected(event) {\n    this.onOptionSelect(event, event.option);\n  }\n\n  showQumlPopup() {\n    this.showPopup.emit();\n  }\n\n  onEnter(event: KeyboardEvent, mcqOption) {\n    if (event.keyCode === 13) {\n      event.stopPropagation();\n      this.onOptionSelect(event, mcqOption);\n    }\n  }\n}\n","import { Component, OnInit, Input, Output, EventEmitter, AfterViewInit } from '@angular/core';\n\n@Component({\n  selector: 'quml-quml-popup',\n  templateUrl: './quml-popup.component.html',\n  styleUrls: ['./quml-popup.component.scss']\n})\nexport class QumlPopupComponent implements OnInit, AfterViewInit {\n  @Input() image = 'https://via.placeholder.com/65';\n  @Input() htmlTag: any;\n  @Output() popUpClose = new EventEmitter();\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n  ngAfterViewInit() {\n    document.getElementById('htmlTag').getElementsByTagName('img')[0].style.width = '70%';\n  }\n\n  closePopup() {\n    this.popUpClose.emit();\n  }\n\n}\n","import { Component, OnInit, Output, EventEmitter, Input, AfterViewInit } from '@angular/core';\n\n@Component({\n  selector: 'quml-mcq-image-option',\n  templateUrl: './mcq-image-option.component.html',\n  styleUrls: ['./mcq-image-option.component.scss']\n})\nexport class McqImageOptionComponent implements OnInit {\n  showQumlPopup = false;\n  qumlPopupImage: any;\n  @Input() mcqQuestion: any;\n  @Input() solutions: any;\n  @Input() mcqOption: any;\n  @Output() imgOptionSelected = new EventEmitter();\n  constructor() { }\n\n  ngOnInit() {\n    \n  }\n\n  showPopup(image) {\n    this.showQumlPopup = true;\n    this.qumlPopupImage = image;\n\n  }\n\n  optionClicked(mcqOption) {\n    this.imgOptionSelected.emit(\n      {\n        name: 'optionSelect',\n        option: mcqOption,\n        solutions: this.solutions\n      }\n    );\n  }\n\n  onEnter(event: KeyboardEvent, mcqOption) {\n    if (event.keyCode === 13) {\n      event.stopPropagation();\n      this.optionClicked(mcqOption);\n    }\n  }\n\n  openPopup(optionHtml) {\n    this.showQumlPopup = true;\n    this.qumlPopupImage = optionHtml;\n  }\n\n  closePopUp() {\n    this.showQumlPopup = false;\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'quml-zoom-in',\n  templateUrl: './zoom-in.component.html',\n  styleUrls: ['./zoom-in.component.css']\n})\nexport class ZoomInComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'quml-star',\n  templateUrl: './star.component.html',\n  styleUrls: ['./star.component.css']\n})\nexport class StarComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'quml-previous',\n  templateUrl: './previous.component.html',\n  styleUrls: ['./previous.component.css']\n})\nexport class PreviousComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'quml-next',\n  templateUrl: './next.component.html',\n  styleUrls: ['./next.component.css']\n})\nexport class NextComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'quml-bookmark',\n  templateUrl: './bookmark.component.html',\n  styleUrls: ['./bookmark.component.css']\n})\nexport class BookmarkComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'quml-hint',\n  templateUrl: './hint.component.html',\n  styleUrls: ['./hint.component.css']\n})\nexport class HintComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'quml-ans',\n  templateUrl: './ans.component.html',\n  styleUrls: ['./ans.component.css']\n})\nexport class AnsComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'quml-share',\n  templateUrl: './share.component.html',\n  styleUrls: ['./share.component.css']\n})\nexport class ShareComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'quml-correct',\n  templateUrl: './correct.component.html',\n  styleUrls: ['./correct.component.css']\n})\nexport class CorrectComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Component, EventEmitter, Input, OnDestroy, OnInit, Output } from '@angular/core';\nimport { fromEvent, Subscription } from 'rxjs';\n\n@Component({\n  selector: 'quml-scoreboard',\n  templateUrl: './scoreboard.component.html',\n  styleUrls: ['./scoreboard.component.scss']\n})\nexport class ScoreboardComponent implements OnInit, OnDestroy {\n  @Input() scores: any;\n  @Input() totalNoOfQuestions: number;\n  @Input() contentName: string;\n  @Input() showFeedBack: boolean;\n  @Input() isSections: boolean;\n  @Input() isDurationExpired: boolean;\n  @Output() submitClicked = new EventEmitter<any>();\n  @Output() emitQuestionNo = new EventEmitter<any>();\n  @Output() scoreBoardLoaded = new EventEmitter<any>();\n\n  subscription: Subscription;\n  constructor() { }\n\n  ngOnInit() {\n    this.scoreBoardLoaded.emit({\n      scoreBoardLoaded: true\n    });\n\n    this.subscription = fromEvent(document, 'keydown').subscribe((e: KeyboardEvent) => {\n      if (e['key'] === 'Enter') {\n        e.stopPropagation();\n        (document.activeElement  as HTMLElement).click();\n      }\n    });\n  }\n\n  goToQuestion(index: number, identifier?: string) {\n    this.emitQuestionNo.emit({ questionNo: index, identifier });\n  }\n\n  ngOnDestroy() {\n    this.subscription.unsubscribe();\n  }\n}\n","import { Component, Input, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'quml-startpage',\n  templateUrl: './startpage.component.html',\n  styleUrls: ['./startpage.component.scss', './sb-ckeditor-styles.scss']\n})\nexport class StartpageComponent implements OnInit {\n\n  @Input() instructions: any;\n  @Input() totalNoOfQuestions: number;\n  @Input() points: number;\n  @Input() time: number;\n  @Input() contentName: string;\n  @Input() showTimer: boolean;\n  minutes: number;\n  seconds: string | number;\n\n  ngOnInit() {\n    const durationInSec = this.time / 1000;\n    this.minutes = Math.floor(this.time / 60);\n    this.seconds = this.time - this.minutes * 60 <  10 ? `0${this.time - this.minutes * 60}`  :  this.time - this.minutes * 60;\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'quml-timer',\n  templateUrl: './timer.component.html',\n  styleUrls: ['./timer.component.css']\n})\nexport class TimerComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'quml-content',\n  templateUrl: './content.component.html',\n  styleUrls: ['./content.component.css']\n})\nexport class ContentComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'quml-startpagestaricon',\n  templateUrl: './startpagestaricon.component.html',\n  styleUrls: ['./startpagestaricon.component.css']\n})\nexport class StartpagestariconComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'quml-previous-active',\n  templateUrl: './previous-active.component.html',\n  styleUrls: ['./previous-active.component.css']\n})\nexport class PreviousActiveComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'quml-next-active',\n  templateUrl: './next-active.component.html',\n  styleUrls: ['./next-active.component.css']\n})\nexport class NextActiveComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import {\n  Component, Output, EventEmitter, Input,\n  AfterViewInit, OnDestroy, OnInit, HostListener\n} from '@angular/core';\nimport { fromEvent, Subscription } from 'rxjs';\n\n@Component({\n  selector: 'quml-alert',\n  templateUrl: './alert.component.html',\n  styleUrls: ['./alert.component.scss']\n})\nexport class AlertComponent implements OnInit, AfterViewInit, OnDestroy {\n  @Input() alertType: any;\n  @Input() isHintAvailable: boolean;\n  @Input() showSolutionButton: boolean;\n  @Output() closeAlert = new EventEmitter();\n  @Output() showSolution = new EventEmitter();\n  @Output() showHint = new EventEmitter();\n\n  subscription: Subscription;\n  isFocusSet = false;\n\n\n  @HostListener('document:keydown.escape', ['$event']) onKeydownHandler(event: KeyboardEvent) {\n    this.close('close');\n  }\n\n\n  previousActiveElement: HTMLElement;\n\n  ngOnInit() {\n    this.isFocusSet = false;\n    this.previousActiveElement = document.activeElement as HTMLElement;\n    this.subscription = fromEvent(document, 'keydown').subscribe((e: KeyboardEvent) => {\n      if (e['key'] === 'Tab') {\n        console.log('Tab pressed');\n        \n        const nextBtn = document.querySelector('.quml-navigation__previous') as HTMLElement;\n        if (nextBtn) {\n          this.close('close');\n          nextBtn.focus();\n          this.isFocusSet = true;\n          e.stopPropagation();\n        }\n      }\n    });\n  }\n\n  ngAfterViewInit() {\n    const alertBody = document.querySelector('.quml-alert__body');\n\n    setTimeout(() => {\n      const wrongButton = document.querySelector('#wrongButton') as HTMLElement;\n      const correctButton = document.querySelector('#correctButton') as HTMLElement;\n      const hintButton = document.querySelector('#hintButton') as HTMLElement;\n\n      if (this.alertType === 'wrong') {\n        wrongButton.focus();\n      } else if (this.alertType === 'correct' && this.showSolutionButton) {\n        correctButton.focus();\n      }\n    }, 100);\n  }\n\n  viewHint() {\n    this.showHint.emit({\n      hint: true,\n    });\n  }\n\n  viewSolution() {\n    this.showSolution.emit({\n      solution: true,\n    });\n  }\n\n  close(type) {\n    this.closeAlert.emit({ type });\n  }\n\n  ngOnDestroy() {\n    if (this.previousActiveElement && !this.isFocusSet) {\n      this.previousActiveElement.focus();\n    }\n\n    if (this.subscription) {\n      this.subscription.unsubscribe();\n    }\n  }\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'quml-close',\n  templateUrl: './close.component.html',\n  styleUrls: ['./close.component.css']\n})\nexport class CloseComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Component, Input, Output, EventEmitter, ViewChild, ElementRef } from '@angular/core';\n\n@Component({\n  selector: 'quml-mcq-solutions',\n  templateUrl: './mcq-solutions.component.html',\n  styleUrls: ['./mcq-solutions.component.scss']\n})\nexport class McqSolutionsComponent  {\n  @Input() question: any;\n  @Input() options: any;\n  @Input() solutions: any;\n  @Output() close = new EventEmitter();\n  @ViewChild('solutionVideoPlayer' , {static: true}) solutionVideoPlayer: ElementRef;\n  \n  showVideoSolution: boolean;\n  previousActiveElement: HTMLElement;\n\n\n  closeSolution() {\n    if (this.solutionVideoPlayer) {\n      this.solutionVideoPlayer.nativeElement.pause();\n    }\n    this.close.emit({\n      close: true\n    });\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'quml-durationtimer',\n  templateUrl: './durationtimer.component.html',\n  styleUrls: ['./durationtimer.component.css']\n})\nexport class DurationtimerComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'quml-audio',\n  templateUrl: './audio.component.html',\n  styleUrls: ['./audio.component.css']\n})\nexport class AudioComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'quml-wrong',\n  templateUrl: './wrong.component.html',\n  styleUrls: ['./wrong.component.css']\n})\nexport class WrongComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'quml-menu',\n  templateUrl: './menu.component.html',\n  styleUrls: ['./menu.component.css']\n})\nexport class MenuComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { DomSanitizer } from '@angular/platform-browser'\nimport { PipeTransform, Pipe } from \"@angular/core\";\n\n@Pipe({\n  name: 'safeHtml'\n}) export class SafeHtmlPipe implements PipeTransform {\n  constructor(private sanitized: DomSanitizer) { }\n  transform(value) {\n    return this.sanitized.bypassSecurityTrustHtml(value);\n  }\n}","export enum pageId  {\n        startPage = 'START_PAGE',\n        submitPage = 'SUBMIT_PAGE',\n        endPage = 'END_PAGE',\n        shortAnswer = 'SHORT_ANSWER'\n}\n\n\nexport enum eventName {\n    pageScrolled = 'PAGE_SCROLLED',\n    viewHint = 'VIEW_HINT',\n    showAnswer = 'SHOW_ANSWER_CLICKED',\n    nextClicked = 'NEXT_CLICKED',\n    prevClicked = 'PREV_CLICKED',\n    progressBar = 'PROGRESSBAR_CLICKED',\n    replayClicked = 'REPLAY_CLICKED',\n    startPageLoaded = 'START_PAGE_LOADED',\n    viewSolutionClicked= 'VIEW_SOLUTION_CLICKED',\n    solutionClosed = 'SOLUTION_CLOSED',\n    closedFeedBack = 'CLOSED_FEEDBACK',\n    tryAgain = 'TRY_AGAIN',\n    optionClicked = 'OPTION_CLICKED',\n    scoreBoardSubmitClicked = 'SCORE_BOARD_SUBMIT_CLICKED',\n    endPageExitClicked = 'EXIT',\n    zoomClicked = 'ZOOM_CLICKED',\n    zoomInClicked = 'ZOOM_IN_CLICKED',\n    zoomOutClicked = 'ZOOM_OUT_CLICKED',\n    zoomCloseClicked = 'ZOOM_CLOSE_CLICKED',\n    goToQuestion = 'GO_TO_QUESTION'\n}\n\nexport enum TelemetryType {\n    interact = 'interact',\n    impression = 'impression',\n}\n","import { Observable } from 'rxjs';\nimport { Question } from './quml-library-interface';\n\n\nexport abstract class QuestionCursor {\n\n  abstract getQuestions(identifiers: string[], parentId?: string): Observable<Question>;\n  abstract getQuestion(identifier: string): Observable<Question>;\n  abstract getQuestionSet(identifier: string): Observable<any>;\n  abstract getAllQuestionSet(identifiers: string[]): Observable<any>;\n\n}","import { EventEmitter, Injectable } from '@angular/core';\nimport { IParentConfig, QumlPlayerConfig } from '../../quml-library-interface';\nimport { QumlLibraryService } from '../../quml-library.service';\nimport { UtilService } from '../../util-service';\nimport { eventName, TelemetryType } from '../../telemetry-constants';\nimport { QuestionCursor } from '../../quml-question-cursor.service';\nimport * as _ from 'lodash-es';\nimport { forkJoin } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ViewerService {\n  public qumlPlayerEvent = new EventEmitter<any>();\n  public qumlQuestionEvent = new EventEmitter<any>();\n  zoom: string;\n  rotation: number;\n  qumlPlayerStartTime: number;\n  qumlPlayerLastPageTime: number;\n  totalNumberOfQuestions: number;\n  currentQuestionIndex: number;\n  contentName: string;\n  src: string;\n  userName: string;\n  version = '1.0';\n  timeSpent = '0:0';\n  metaData: any;\n  loadingProgress: number;\n  endPageSeen: boolean;\n  identifiers: any;\n  threshold: number;\n  isAvailableLocally = false;\n  isSectionsAvailable = false;\n  questionSetId: string;\n  parentIdentifier: string;\n  sectionQuestions = [];\n\n  constructor(\n    public qumlLibraryService: QumlLibraryService,\n    public utilService: UtilService,\n    public questionCursor: QuestionCursor\n  ) { }\n\n  initialize(config: QumlPlayerConfig , threshold: number, questionIds: string[], parentConfig: IParentConfig) {\n    this.qumlLibraryService.initializeTelemetry(config, parentConfig);\n    this.identifiers = _.cloneDeep(questionIds);\n    this.parentIdentifier = config.metadata.identifier;\n    this.threshold = threshold;\n    this.rotation = 0;\n    this.totalNumberOfQuestions = config.metadata.childNodes.length || 0;\n    this.qumlPlayerStartTime = this.qumlPlayerLastPageTime = new Date().getTime();\n    this.currentQuestionIndex = 1;\n    this.contentName = config.metadata.name;\n    this.isAvailableLocally = config.metadata.isAvailableLocally;\n    this.isSectionsAvailable = parentConfig?.isSectionsAvailable;\n    this.src = config.metadata.artifactUrl || '';\n    this.questionSetId = config.metadata.identifier;\n\n    if (config.context.userData) {\n      this.userName = config.context.userData.firstName + ' ' + config.context.userData.lastName;\n    }\n    this.metaData = {\n      pagesHistory: [],\n      totalPages: 0,\n      duration: 0,\n      rotation: [],\n      progressBar: [],\n      questions: [],\n      questionIds: [],\n      lastQuestionId: '',\n    };\n    this.loadingProgress = 0;\n    this.endPageSeen = false;\n  }\n\n  raiseStartEvent(currentQuestionIndex) {\n    this.currentQuestionIndex = currentQuestionIndex;\n    const duration = new Date().getTime() - this.qumlPlayerStartTime;\n    const startEvent: any = {\n      eid: 'START',\n      ver: this.version,\n      edata: {\n        type: 'START',\n        currentIndex: this.currentQuestionIndex,\n        duration\n      },\n      metaData: this.metaData\n    };\n\n    this.qumlPlayerEvent.emit(startEvent);\n    this.qumlPlayerLastPageTime = this.qumlPlayerStartTime = new Date().getTime();\n    this.qumlLibraryService.start(duration);\n  }\n\n  raiseEndEvent(currentQuestionIndex,  endPageSeen , score) {\n    this.metaData.questions = this.sectionQuestions;\n    const duration = new Date().getTime() - this.qumlPlayerStartTime;\n    const endEvent: any = {\n      eid: 'END',\n      ver: this.version,\n      edata: {\n        type: 'END',\n        currentPage: currentQuestionIndex,\n        totalPages: this.totalNumberOfQuestions,\n        duration\n      },\n      metaData: this.metaData\n    };\n\n    this.qumlPlayerEvent.emit(endEvent);\n    const visitedlength = (this.metaData.pagesHistory.filter((v, i, a) => a.indexOf(v) === i)).length;\n    this.timeSpent = this.utilService.getTimeSpentText(this.qumlPlayerStartTime);\n    this.qumlLibraryService.end(duration, currentQuestionIndex, this.totalNumberOfQuestions, this.totalNumberOfQuestions, endPageSeen , score);\n  }\n\n  raiseHeartBeatEvent(type: string, telemetryType: string, pageId: any) {\n    const hearBeatEvent: any = {\n      eid: 'HEARTBEAT',\n      ver: this.version,\n      edata: {\n        type,\n        questionIndex: this.currentQuestionIndex,\n      },\n      metaData: this.metaData\n    };\n\n    if (this.isSectionsAvailable) {\n      hearBeatEvent.edata.sectionId = this.questionSetId;\n    }\n\n    this.qumlPlayerEvent.emit(hearBeatEvent);\n    if (TelemetryType.interact === telemetryType) {\n      this.qumlLibraryService.interact(type.toLowerCase(), pageId);\n    } else if (TelemetryType.impression === telemetryType) {\n      this.qumlLibraryService.impression(pageId);\n    }\n\n  }\n\n  raiseAssesEvent(questionData , index , pass , score , resValues , duration){\n    const assessEvent = {\n          item: questionData,\n          index: index,\n          pass: pass, \n          score: score, \n          resvalues: resValues, \n          duration: duration \n    }\n    this.qumlPlayerEvent.emit(assessEvent);\n    this.qumlLibraryService.startAssesEvent(assessEvent);\n  }\n\n  raiseResponseEvent(identifier , qType , optionSelected){\n    const responseEvent = {\n        target: {\n          id: identifier,\n          ver: this.version,\n          type: qType\n        },\n        values: [{\n          optionSelected\n        }]\n    }\n    this.qumlPlayerEvent.emit(responseEvent);\n    this.qumlLibraryService.response(identifier, this.version , qType , optionSelected);\n  }\n\n  raiseSummaryEvent(currentQuestionIndex, endpageseen, score, summaryObj) {\n    let timespent = new Date().getTime() - this.qumlPlayerStartTime;\n    timespent = Number(((timespent % 60000) / 1000).toFixed(2))\n    const eData = {\n      type: \"content\",\n      mode: \"play\",\n      starttime: this.qumlPlayerStartTime,\n      endtime: new Date().getTime(),\n      timespent,\n      pageviews: this.totalNumberOfQuestions,\n      interactions: summaryObj.correct + summaryObj.wrong + summaryObj.partial,\n      extra: [{\n        id: \"progress\",\n        value: ((currentQuestionIndex / this.totalNumberOfQuestions) * 100).toFixed(0).toString()\n      }, {\n        id: \"endpageseen\",\n        value: endpageseen.toString()\n      }, {\n        id: \"score\",\n        value: score.toString()\n      }, {\n        id: \"correct\",\n        value: summaryObj.correct.toString()\n      }, {\n        id: \"incorrect\",\n        value: summaryObj.wrong.toString()\n      }, {\n        id: \"partial\",\n        value: summaryObj.partial.toString()\n      }, {\n        id: \"skipped\",\n        value: summaryObj.skipped.toString()\n      }]\n    };\n    const summaryEvent = {\n      eid: 'QUML_SUMMARY',\n      ver: this.version,\n      edata: eData,\n      metaData: this.metaData\n    };\n    this.qumlPlayerEvent.emit(summaryEvent);\n    this.qumlLibraryService.summary(eData);\n  }\n\n  raiseExceptionLog(errorCode: string , errorType: string , stacktrace , traceId ) {\n    const exceptionLogEvent = {\n      eid: \"ERROR\",\n      edata: {\n          err: errorCode,\n          errtype: errorType,\n          requestid: traceId || '',\n          stacktrace: stacktrace || '',\n      }\n    }\n    this.qumlPlayerEvent.emit(exceptionLogEvent)\n    this.qumlLibraryService.error(stacktrace, { err: errorCode, errtype: errorType });\n  }\n\n\n  getQuestions(currentIndex?: number  , index?: number) {\n    let indentifersForQuestions;\n    if(currentIndex !== undefined && index) {\n      indentifersForQuestions = this.identifiers.splice(currentIndex, index);\n    }else if(!currentIndex && !index){\n      indentifersForQuestions = this.identifiers.splice(0, this.threshold);\n    }\n    if(!_.isEmpty(indentifersForQuestions)) {\n      const requests = [];\n      const chunkArray = _.chunk(indentifersForQuestions, 10);\n      _.forEach(chunkArray, (value) => {\n        requests.push(this.questionCursor.getQuestions(value, this.parentIdentifier));\n      });\n      forkJoin(requests).subscribe(questions => {\n        _.forEach(questions, (value) => {\n          this.qumlQuestionEvent.emit(value);\n        });\n      },(error)=>{\n          this.qumlQuestionEvent.emit({\n            error: error\n          })\n      });\n    }\n  }\n\n  getQuestion() {\n    let indentiferForQuestion = this.identifiers.splice(0, this.threshold);\n      this.questionCursor.getQuestion(indentiferForQuestion).subscribe((question) => {\n        this.qumlQuestionEvent.emit(question);\n      },(error)=>{\n        this.qumlQuestionEvent.emit({\n          error: error\n        })\n    })\n  }\n\n  generateMaxAttemptEvents(currentattempt: number, maxLimitExceeded: boolean, isLastAttempt: boolean) {\n    return {\n      eid: 'exdata',\n      ver: this.version,\n      edata: {\n        type: 'exdata',\n        currentattempt,\n        maxLimitExceeded,\n        isLastAttempt\n      },\n      metaData: this.metaData\n    };\n  }\n\n  updateSectionQuestions(id: string, questions) {\n    const index = this.sectionQuestions.findIndex(section => section.id === id);\n    if (index > -1) {\n      this.sectionQuestions[index].questions = questions;\n    } else {\n      this.sectionQuestions.push({ id, questions });\n    }\n  }\n\n  getSectionQuestions(id: string) {\n    return this.sectionQuestions.find(section => section.id === id)?.questions || [];\n  }\n}\n","import {Component, EventEmitter, HostListener, Input, OnInit, Output} from '@angular/core';\nimport {contentErrorMessage} from '@project-sunbird/sunbird-player-sdk-v9/lib/player-utils/interfaces/errorMessage';\nimport * as _ from 'lodash-es';\nimport {IParentConfig, QumlPlayerConfig} from '../quml-library-interface';\nimport {ViewerService} from '../services/viewer-service/viewer-service';\nimport {eventName, pageId, TelemetryType} from '../telemetry-constants';\nimport {UtilService} from '../util-service';\nimport {QuestionCursor} from '../quml-question-cursor.service';\n\n@Component({\n    selector: 'quml-main-player',\n    templateUrl: './main-player.component.html',\n    styleUrls: ['./main-player.component.scss']\n})\nexport class MainPlayerComponent implements OnInit {\n    @Input() contentId: string;\n    @Input() playerConfig: QumlPlayerConfig;\n    @Output() playerEvent = new EventEmitter<any>();\n    @Output() submitEvent = new EventEmitter<any>();\n    @Output() telemetryEvent = new EventEmitter<any>();\n\n    isLoading = false;\n    isSectionsAvailable = false;\n    isMultiLevelSection = false;\n    sections: any[] = [];\n    isFirstSection = false;\n    sectionIndex = 0;\n    activeSection: any;\n    contentError: contentErrorMessage;\n    parentConfig: IParentConfig = {\n        loadScoreBoard: false,\n        requiresSubmit: false,\n        isFirstSection: false,\n        isSectionsAvailable: false,\n        isReplayed: false,\n        identifier: '',\n        contentName: '',\n        baseUrl: '',\n        instructions: {},\n        questionCount: 0,\n    };\n\n    showEndPage = true;\n    showFeedBack: boolean;\n    endPageReached = false;\n    isEndEventRaised = false;\n    isSummaryEventRaised = false;\n    showReplay = true;\n\n    attempts: { max: number, current: number };\n    mainProgressBar = [];\n    loadScoreBoard = false;\n    summary: {\n        correct: 0,\n        partial: 0,\n        skipped: 0,\n        wrong: 0\n    };\n    isDurationExpired = false;\n    finalScore = 0;\n    totalNoOfQuestions = 0;\n    durationSpent: string;\n    outcomeLabel: string;\n    totalScore: number;\n    initialTime: number;\n    sideMenuConfig = {\n        enable: true,\n        showShare: true,\n        showDownload: true,\n        showReplay: false,\n        showExit: true,\n    };\n    userName: string;\n    jumpToQuestion: any;\n    totalVisitedQuestion = 0;\n    showInstructions = 'No';\n\n    constructor(\n        public viewerService: ViewerService,\n        private utilService: UtilService,\n        public questionCursor: QuestionCursor\n    ) {\n    }\n\n    @HostListener('document:TelemetryEvent', ['$event'])\n    onTelemetryEvent(event) {\n        this.telemetryEvent.emit(event.detail);\n    }\n\n    ngOnInit(): void {\n        if (typeof this.playerConfig === 'string') {\n            try {\n                this.playerConfig = JSON.parse(this.playerConfig);\n            } catch (error) {\n                console.error('Invalid playerConfig: ', error);\n            }\n        }\n        this.isLoading = true;\n        this.setConfig();\n        this.initializeSections();\n        /*this.questionCursor.getQuestionSet(this.contentId).subscribe((data) => {\n            this.playerConfig['metadata'] = _.get(data, 'result.questionSet');\n            this.playerConfig['metadata'].requiresSubmit = 'Yes';\n\n            this.setConfig();\n            this.initializeSections();\n        }, (error) => {\n            console.log(error);\n        });*/\n    }\n\n\n    initializeSections() {\n        const childMimeType = _.map(this.playerConfig.metadata.children, 'mimeType');\n        this.parentConfig.isSectionsAvailable = this.isSectionsAvailable = childMimeType[0] === 'application/vnd.sunbird.questionset';\n        this.viewerService.sectionQuestions = [];\n        if (this.isSectionsAvailable) {\n            this.isMultiLevelSection = this.getMultilevelSection(this.playerConfig.metadata);\n\n            if (this.isMultiLevelSection) {\n                this.contentError = {\n                    messageHeader: 'Unable to load content',\n                    messageTitle: 'Multi level sections are not supported as of now'\n                };\n            } else {\n                let children = this.playerConfig.metadata.children;\n                this.sections = _.map(children, (child) => {\n                    let childNodes = child?.children?.map(item => item.identifier) || [];\n                    const maxQuestions = child?.maxQuestions;\n                    if (child?.shuffle && !this.playerConfig.config?.progressBar?.length) {\n                        childNodes = _.shuffle(childNodes);\n                    }\n\n                    if (maxQuestions) {\n                        childNodes = childNodes.slice(0, maxQuestions);\n                    }\n\n                    if (this.playerConfig.metadata.timeLimits) {\n                        child = {\n                            ...child,\n                            timeLimits: this.playerConfig.metadata.timeLimits,\n                            showTimer: this.playerConfig.metadata.showTimer\n                        };\n                    }\n                    return {\n                        ...this.playerConfig, metadata: {...child, childNodes, showStartPage: this.showInstructions},\n                    };\n                });\n\n                this.setInitialScores();\n                this.activeSection = _.cloneDeep(this.sections[0]);\n                this.isFirstSection = true;\n                this.isLoading = false;\n            }\n        } else {\n            let childNodes = [];\n            if (this.playerConfig.metadata?.children?.length) {\n                childNodes = this.playerConfig.metadata.children.map(item => item.identifier);\n            } else {\n                childNodes = this.playerConfig.metadata.childNodes;\n            }\n\n            const maxQuestions = this.playerConfig.metadata.maxQuestions;\n            if (maxQuestions) {\n                childNodes = childNodes.slice(0, maxQuestions);\n            }\n            if (this.playerConfig.metadata?.shuffle && !this.playerConfig.config?.progressBar?.length) {\n                childNodes = _.shuffle(childNodes);\n            }\n            childNodes.forEach((element, index) => {\n                this.totalNoOfQuestions++;\n                this.mainProgressBar.push({\n                    index: (index + 1), class: 'unattempted', value: undefined,\n                    score: 0,\n                });\n            });\n            this.playerConfig.metadata.childNodes = childNodes;\n            if (this.playerConfig.config?.progressBar?.length) {\n                this.mainProgressBar = _.cloneDeep(this.playerConfig.config.progressBar);\n            }\n            if (this.playerConfig.config?.questions?.length) {\n                const questionsObj = this.playerConfig.config.questions.find(item => item.id === this.playerConfig.metadata.identifier);\n                if (questionsObj?.questions) {\n                    this.viewerService.updateSectionQuestions(this.playerConfig.metadata.identifier, questionsObj.questions);\n                }\n            }\n            this.activeSection = _.cloneDeep(this.playerConfig);\n            this.isLoading = false;\n            this.isFirstSection = true;\n            this.parentConfig.questionCount = this.totalNoOfQuestions;\n        }\n    }\n\n    setConfig() {\n        this.parentConfig.contentName = this.playerConfig.metadata?.name;\n        this.parentConfig.identifier = this.playerConfig.metadata?.identifier;\n        this.parentConfig.requiresSubmit = this.playerConfig.metadata?.requiresSubmit?.toLowerCase() !== 'no';\n        this.parentConfig.instructions = this.playerConfig.metadata?.instructions?.default;\n        this.showEndPage = this.playerConfig.metadata?.showEndPage?.toLowerCase() !== 'no';\n        this.showFeedBack = this.playerConfig.metadata?.showFeedback?.toLowerCase() !== 'no';\n        this.sideMenuConfig = {...this.sideMenuConfig, ...this.playerConfig.config.sideMenu};\n        this.userName = this.playerConfig.context.userData.firstName + ' ' + this.playerConfig.context.userData.lastName;\n\n        if (this.playerConfig.metadata.isAvailableLocally && this.playerConfig.metadata.basePath) {\n            this.parentConfig.baseUrl = this.playerConfig.metadata.basePath;\n        }\n\n        this.attempts = {\n            max: this.playerConfig.metadata?.maxAttempt,\n            current: this.playerConfig.metadata?.currentAttempt ? this.playerConfig.metadata.currentAttempt + 1 : 1\n        };\n        this.totalScore = this.playerConfig.metadata.maxScore;\n        this.showReplay = this.attempts?.max && this.attempts?.current >= this.attempts.max ? false : true;\n        if (typeof this.playerConfig.metadata?.timeLimits === 'string') {\n            this.playerConfig.metadata.timeLimits = JSON.parse(this.playerConfig.metadata.timeLimits);\n        }\n        this.initialTime = new Date().getTime();\n        this.emitMaxAttemptEvents();\n    }\n\n    private getMultilevelSection(obj) {\n        let isMultiLevel;\n        obj.children.forEach(item => {\n            if (item.children && !isMultiLevel) {\n                isMultiLevel = this.hasChildren(item.children);\n            }\n\n        });\n        return isMultiLevel;\n    }\n\n    private hasChildren(arr) {\n        return arr.some(item => item.children);\n    }\n\n    emitMaxAttemptEvents() {\n        if ((this.playerConfig.metadata?.maxAttempt - 1) === this.playerConfig.metadata?.currentAttempt) {\n            this.playerEvent.emit(this.viewerService.generateMaxAttemptEvents(this.attempts?.current, false, true));\n        } else if (this.playerConfig.metadata?.currentAttempt >= this.playerConfig.metadata?.maxAttempt) {\n            this.playerEvent.emit(this.viewerService.generateMaxAttemptEvents(this.attempts?.current, true, false));\n        }\n    }\n\n    getActiveSectionIndex() {\n        return this.sections.findIndex(sec => sec.metadata?.identifier === this.activeSection.metadata?.identifier);\n    }\n\n    onShowScoreBoard(event) {\n        if (this.parentConfig.isSectionsAvailable) {\n            const activeSectionIndex = this.getActiveSectionIndex();\n            this.updateSectionScore(activeSectionIndex);\n        }\n        this.loadScoreBoard = true;\n    }\n\n    onSectionEnd(event) {\n        if (this.parentConfig.isSectionsAvailable) {\n            this.isFirstSection = false;\n            const activeSectionIndex = this.getActiveSectionIndex();\n            this.updateSectionScore(activeSectionIndex);\n            this.setNextSection(event, activeSectionIndex);\n        } else {\n            this.prepareEnd(event);\n        }\n    }\n\n    onPlayerEvent(event) {\n        this.playerEvent.emit(event);\n    }\n\n    getSummaryObject() {\n        const progressBar = this.isSectionsAvailable ? _.flattenDeep(this.mainProgressBar.map(item => item.children)) : this.mainProgressBar;\n        const classObj = _.groupBy(progressBar, 'class');\n        this.summary = {\n            skipped: _.get(classObj, 'skipped.length') || 0,\n            correct: _.get(classObj, 'correct.length') || 0,\n            wrong: _.get(classObj, 'wrong.length') || 0,\n            partial: _.get(classObj, 'partial.length') || 0\n        };\n        this.totalVisitedQuestion = this.summary.correct + this.summary.wrong + this.summary.partial + this.summary.skipped;\n        this.viewerService.totalNumberOfQuestions = this.totalNoOfQuestions;\n    }\n\n    updateSectionScore(activeSectionIndex: number) {\n        this.mainProgressBar[activeSectionIndex].score = this.mainProgressBar[activeSectionIndex].children\n            .reduce((accumulator, currentValue) => accumulator + currentValue.score, 0);\n    }\n\n    setNextSection(event, activeSectionIndex: number) {\n        this.summary = this.utilService.sumObjectsByKey(this.summary, event.summary);\n        const isSectionFullyAttempted = event.summary.skipped === 0 &&\n            (event.summary?.correct + event.summary?.wrong) === this.mainProgressBar[activeSectionIndex]?.children?.length;\n        const isSectionPartiallyAttempted = event.summary.skipped > 0;\n\n        if (event.isDurationEnded) {\n            this.isDurationExpired = true;\n            this.prepareEnd(event);\n            return;\n        }\n\n        let nextSectionIndex = activeSectionIndex + 1;\n        if (event.jumpToSection) {\n            const sectionIndex = this.sections.findIndex(sec => sec.metadata?.identifier === event.jumpToSection);\n            nextSectionIndex = sectionIndex > -1 ? sectionIndex : nextSectionIndex;\n        }\n\n        this.sectionIndex = _.cloneDeep(nextSectionIndex);\n        this.mainProgressBar.forEach((item, index) => {\n            item.isActive = index === nextSectionIndex;\n\n            if (index === activeSectionIndex) {\n                if (isSectionFullyAttempted) {\n                    item.class = 'attempted';\n                } else if (isSectionPartiallyAttempted) {\n                    item.class = 'partial';\n                }\n            }\n        });\n        if (nextSectionIndex < this.sections.length) {\n            this.activeSection = _.cloneDeep(this.sections[nextSectionIndex]);\n        } else {\n            this.prepareEnd(event);\n        }\n    }\n\n    prepareEnd(event) {\n        this.calculateScore();\n        this.setDurationSpent();\n        if (this.parentConfig.requiresSubmit) {\n            this.loadScoreBoard = true;\n        } else {\n            this.endPageReached = true;\n            this.getSummaryObject();\n            this.viewerService.raiseSummaryEvent(this.totalVisitedQuestion, this.endPageReached, this.finalScore, this.summary);\n            this.raiseEndEvent(this.totalVisitedQuestion, this.endPageReached, this.finalScore);\n            this.isSummaryEventRaised = true;\n            this.isEndEventRaised = true;\n\n        }\n    }\n\n    replayContent() {\n        this.parentConfig.isReplayed = true;\n        this.loadScoreBoard = false;\n        this.endPageReached = false;\n        this.isDurationExpired = false;\n        this.isEndEventRaised = false;\n        this.attempts.current = this.attempts.current + 1;\n        this.showReplay = this.attempts?.max && this.attempts?.current >= this.attempts.max ? false : true;\n        this.totalNoOfQuestions = 0;\n        this.totalVisitedQuestion = 0;\n        this.mainProgressBar = [];\n        this.jumpToQuestion = undefined;\n        this.summary = {\n            correct: 0,\n            partial: 0,\n            skipped: 0,\n            wrong: 0\n        };\n        this.sections = [];\n        this.initialTime = new Date().getTime();\n        this.initializeSections();\n        this.endPageReached = false;\n        this.loadScoreBoard = false;\n        this.activeSection = this.isSectionsAvailable ? _.cloneDeep(this.sections[0]) : this.playerConfig;\n        if (this.attempts?.max === this.attempts?.current) {\n            this.playerEvent.emit(this.viewerService.generateMaxAttemptEvents(_.get(this.attempts, 'current'), false, true));\n        }\n        this.viewerService.raiseHeartBeatEvent(eventName.replayClicked, TelemetryType.interact, 1);\n\n        setTimeout(() => {\n            this.parentConfig.isReplayed = false;\n        }, 200);\n    }\n\n    setInitialScores(activeSectionIndex = 0) {\n        const alphabets = 'abcdefghijklmnopqrstuvwxyz'.split('');\n        this.sections.forEach((section, i) => {\n            this.mainProgressBar.push({\n                index: alphabets[i].toLocaleUpperCase(), class: 'unattempted', value: undefined,\n                score: 0,\n                isActive: i === activeSectionIndex,\n                identifier: section.metadata?.identifier\n            });\n            const children = [];\n            section.metadata.childNodes.forEach((child, index) => {\n                children.push({\n                    identifier: child,\n                    index: (index + 1), class: 'unattempted', value: undefined,\n                    option: undefined, cardinality: undefined,\n                    score: 0\n                });\n                this.totalNoOfQuestions++;\n            });\n            this.mainProgressBar[this.mainProgressBar.length - 1] = {\n                ..._.last(this.mainProgressBar), children\n            };\n\n            if (this.playerConfig.config?.questions?.length) {\n                const questionsObj = this.playerConfig.config.questions.find(item => item.id === section.metadata?.identifier);\n                if (questionsObj?.questions) {\n                    this.viewerService.updateSectionQuestions(section.metadata.identifier, questionsObj.questions);\n                }\n            }\n        });\n        if (this.playerConfig.config?.progressBar?.length) {\n            this.mainProgressBar = _.cloneDeep(this.playerConfig.config.progressBar);\n            this.mainProgressBar[0].isActive = true;\n        }\n        this.parentConfig.questionCount = this.totalNoOfQuestions;\n    }\n\n    calculateScore() {\n        this.finalScore = this.mainProgressBar.reduce((accumulator, currentValue) => accumulator + currentValue.score, 0);\n        this.generateOutComeLabel();\n        return this.finalScore;\n    }\n\n    exitContent(event) {\n        this.calculateScore();\n        if (event?.type === 'EXIT') {\n            this.viewerService.raiseHeartBeatEvent(eventName.endPageExitClicked, TelemetryType.interact, 'endPage');\n            this.getSummaryObject();\n            this.viewerService.raiseSummaryEvent(this.totalVisitedQuestion, this.endPageReached, this.finalScore, this.summary);\n            this.isSummaryEventRaised = true;\n            this.raiseEndEvent(this.totalVisitedQuestion, this.endPageReached, this.finalScore);\n        }\n    }\n\n\n    raiseEndEvent(currentQuestionIndex, endPageSeen, score) {\n        if (this.isEndEventRaised) {\n            return;\n        }\n        this.isEndEventRaised = true;\n        this.viewerService.metaData.progressBar = this.mainProgressBar;\n        this.viewerService.raiseEndEvent(currentQuestionIndex, endPageSeen, score);\n\n        if (_.get(this.attempts, 'current') >= _.get(this.attempts, 'max')) {\n            this.playerEvent.emit(this.viewerService.generateMaxAttemptEvents(_.get(this.attempts, 'current'), true, false));\n        }\n    }\n\n    setDurationSpent() {\n        if (this.playerConfig.metadata?.summaryType !== 'Score') {\n            this.viewerService.metaData.duration = new Date().getTime() - this.initialTime;\n            this.durationSpent = this.utilService.getTimeSpentText(this.initialTime);\n        }\n    }\n\n    onScoreBoardLoaded(event) {\n        if (event?.scoreBoardLoaded) {\n            this.calculateScore();\n        }\n    }\n\n    onScoreBoardSubmitted(event) {\n        switch (event.type) {\n            case 'back-clicked':\n                this.loadScoreBoard = false;\n                break;\n            default:\n                this.endPageReached = true;\n                this.getSummaryObject();\n                this.setDurationSpent();\n                this.viewerService.raiseHeartBeatEvent(eventName.scoreBoardSubmitClicked, TelemetryType.interact, pageId.submitPage);\n                this.viewerService.raiseSummaryEvent(this.totalVisitedQuestion, this.endPageReached, this.finalScore, this.summary);\n                this.raiseEndEvent(this.totalVisitedQuestion, this.endPageReached, this.finalScore);\n                this.loadScoreBoard = false;\n                this.isSummaryEventRaised = true;\n                this.submitEvent.emit({\n                    result: this.mainProgressBar\n                });\n        }\n    }\n\n    generateOutComeLabel() {\n        this.outcomeLabel = this.finalScore.toString();\n        switch (_.get(this.playerConfig, 'metadata.summaryType')) {\n            case 'Complete': {\n                this.outcomeLabel = this.totalScore ? `${this.finalScore} / ${this.totalScore}` : this.outcomeLabel;\n                break;\n            }\n            case 'Duration': {\n                this.outcomeLabel = '';\n                break;\n            }\n        }\n    }\n\n    goToQuestion(event) {\n        if (this.parentConfig.isSectionsAvailable && event.identifier) {\n            const sectionIndex = this.sections.findIndex(sec => sec.metadata?.identifier === event.identifier);\n            this.activeSection = _.cloneDeep(this.sections[sectionIndex]);\n            this.mainProgressBar.forEach((item, index) => {\n                item.isActive = index === sectionIndex;\n            });\n        }\n        this.jumpToQuestion = event;\n        this.loadScoreBoard = false;\n    }\n\n    @HostListener('window:beforeunload')\n    ngOnDestroy() {\n        this.calculateScore();\n        this.getSummaryObject();\n        if (this.isSummaryEventRaised === false) {\n            this.viewerService.raiseSummaryEvent(this.totalVisitedQuestion, this.endPageReached, this.finalScore, this.summary);\n        }\n        this.raiseEndEvent(this.totalVisitedQuestion, this.endPageReached, this.finalScore);\n    }\n}\n\n/*\n * Should Take care of the following\n *  - handle end page\n *  - handle scoreboard\n *  - handle max Attempts\n *  - handle telemetry initialization\n *  - handle telemetry events - endpage / scoreboard / maxattempts\n *  - handle Jump to question or section\n *  - handle summary event\n *  - handle next/previous button on start and end of the section\n * -  handle raising all the outputs back to the client\n*/\n","import { AfterViewInit, ChangeDetectorRef, Component, EventEmitter, HostListener, Input, OnChanges, Output, ViewChild } from '@angular/core';\nimport { errorCode, errorMessage, ErrorService } from '@project-sunbird/sunbird-player-sdk-v9';\nimport * as _ from 'lodash-es';\nimport { CarouselComponent } from 'ngx-bootstrap/carousel';\nimport { fromEvent, Subject, Subscription } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nimport { QumlPlayerConfig, IParentConfig } from '../quml-library-interface';\nimport { QuestionCursor } from '../quml-question-cursor.service';\nimport { ViewerService } from '../services/viewer-service/viewer-service';\nimport { eventName, pageId, TelemetryType } from '../telemetry-constants';\nimport { UtilService } from '../util-service';\nimport maintain from 'ally.js/esm/maintain/_maintain';\nimport { ISideBarEvent } from '@project-sunbird/sunbird-player-sdk-v9/sunbird-player-sdk.interface';\n\n@Component({\n  selector: 'quml-section-player',\n  templateUrl: './section-player.component.html',\n  styleUrls: ['./section-player.component.scss', './../startpage/sb-ckeditor-styles.scss']\n})\nexport class SectionPlayerComponent implements OnChanges, AfterViewInit {\n\n  @Input() sectionConfig: QumlPlayerConfig;\n  @Input() attempts: { max: number, current: number };\n  @Input() isFirstSection = false;\n  @Input() jumpToQuestion;\n  @Input() mainProgressBar;\n  @Input() sectionIndex = 0;\n  @Input() parentConfig: IParentConfig;\n  @Output() playerEvent = new EventEmitter<any>();\n  @Output() telemetryEvent = new EventEmitter<any>();\n  @Output() sectionEnd = new EventEmitter<any>();\n  @Output() score = new EventEmitter<any>();\n  @Output() summary = new EventEmitter<any>();\n  @Output() showScoreBoard = new EventEmitter<any>();\n\n  @ViewChild('myCarousel', { static: false }) myCarousel: CarouselComponent;\n  @ViewChild('imageModal', { static: true }) imageModal;\n  @ViewChild('questionSlide', { static: false }) questionSlide;\n\n  destroy$: Subject<boolean> = new Subject<boolean>();\n  loadView = false;\n  showContentError = false;\n  noOfTimesApiCalled = 0;\n  currentSlideIndex = 0;\n  showStartPage = true;\n  sideMenuConfig = {\n    enable: true,\n    showShare: true,\n    showDownload: true,\n    showReplay: false,\n    showExit: true,\n  };\n  threshold: number;\n  questions = [];\n  questionIds: string[];\n  questionIdsCopy: string[];\n  noOfQuestions: number;\n  initialTime: number;\n  timeLimit: any;\n  warningTime: number;\n  showTimer: any;\n  showFeedBack: boolean;\n  showUserSolution: boolean;\n  startPageInstruction: string;\n  maxScore: number;\n  points: number;\n  initializeTimer: boolean;\n\n  totalScore: number;\n  linearNavigation: boolean;\n  showHints: any;\n  allowSkip: boolean;\n  progressBarClass = [];\n  currentQuestionsMedia: any;\n  disableNext: boolean;\n  endPageReached: boolean;\n  tryAgainClicked = false;\n  currentOptionSelected: string;\n  carouselConfig = {\n    NEXT: 1,\n    PREV: 2\n  };\n  active = false;\n  showAlert: boolean;\n  currentOptions: any;\n  currentQuestion: any;\n  media: any;\n  currentSolutions: any;\n  showSolution: any;\n  optionSelectedObj: any;\n  intervalRef: any;\n  alertType: string;\n  infoPopup: boolean;\n  outcomeLabel: string;\n  stopAutoNavigation: boolean;\n  jumpSlideIndex: any;\n  showQuestions = false;\n  showZoomModal = false;\n  zoomImgSrc: string;\n  imageZoomCount = 100;\n  replayed = false;\n  sectionId: string;\n  showRootInstruction = true;\n  slideDuration = 0;\n  initialSlideDuration: number;\n  disabledHandle: any;\n  subscription: Subscription;\n  constructor(\n    public viewerService: ViewerService,\n    public utilService: UtilService,\n    public questionCursor: QuestionCursor,\n    private cdRef: ChangeDetectorRef,\n    public errorService: ErrorService\n  ) { }\n\n  ngOnChanges(changes): void {\n    this.subscribeToEvents();\n    this.setConfig();\n  }\n\n  ngAfterViewInit() {\n    this.viewerService.raiseStartEvent(0);\n    this.viewerService.raiseHeartBeatEvent(eventName.startPageLoaded, 'impression', 0);\n  }\n\n  private subscribeToEvents(): void {\n    this.viewerService.qumlPlayerEvent.asObservable()\n      .pipe(takeUntil(this.destroy$))\n      .subscribe((res) => {\n        this.playerEvent.emit(res);\n      });\n\n    this.viewerService.qumlQuestionEvent\n      .pipe(takeUntil(this.destroy$))\n      .subscribe((res) => {\n\n        if (res?.error) {\n          const { traceId } = this.sectionConfig?.config;\n          if (navigator.onLine && this.viewerService.isAvailableLocally) {\n            this.viewerService.raiseExceptionLog(errorCode.contentLoadFails, errorMessage.contentLoadFails,\n              new Error(errorMessage.contentLoadFails), traceId);\n          } else {\n            this.viewerService.raiseExceptionLog(errorCode.internetConnectivity, errorMessage.internetConnectivity,\n              new Error(errorMessage.internetConnectivity), traceId);\n          }\n          this.showContentError = true;\n          return;\n        }\n\n        if (!res?.questions) {\n          return;\n        }\n        const unCommonQuestions = _.xorBy(this.questions, res.questions, 'identifier');\n        this.questions = _.uniqBy(this.questions.concat(unCommonQuestions), 'identifier');\n        this.sortQuestions();\n        this.viewerService.updateSectionQuestions(this.sectionConfig.metadata.identifier, this.questions);\n        this.cdRef.detectChanges();\n        this.noOfTimesApiCalled++;\n        this.loadView = true;\n        if (this.currentSlideIndex > 0 && this.myCarousel) {\n          this.myCarousel.selectSlide(this.currentSlideIndex);\n          if (this.questions[this.currentSlideIndex - 1]) {\n            this.currentQuestionsMedia = this.questions[this.currentSlideIndex - 1]?.media;\n            this.setImageZoom();\n            this.highlightQuestion();\n          }\n        }\n\n        if (this.currentSlideIndex === 0) {\n          if (this.showStartPage) {\n            this.active = this.sectionIndex === 0;\n          } else {\n            setTimeout(() => { this.nextSlide(); });\n          }\n        }\n        this.removeAttribute();\n      });\n  }\n\n  private setConfig() {\n    this.noOfTimesApiCalled = 0;\n    this.currentSlideIndex = 0;\n    this.active = this.currentSlideIndex === 0 && this.sectionIndex === 0 && this.showStartPage;\n\n    if (this.myCarousel) {\n      this.myCarousel.selectSlide(this.currentSlideIndex);\n    }\n    this.sideMenuConfig = { ...this.sideMenuConfig, ...this.sectionConfig?.config?.sideMenu };\n    this.threshold = this.sectionConfig.context?.threshold || 3;\n    this.questionIds = _.cloneDeep(this.sectionConfig.metadata.childNodes);\n\n    if (this.parentConfig.isReplayed) {\n      this.replayed = true;\n      this.initializeTimer = true;\n      this.viewerService.raiseStartEvent(0);\n      this.viewerService.raiseHeartBeatEvent(eventName.startPageLoaded, 'impression', 0);\n      this.disableNext = false;\n      this.currentSlideIndex = 1;\n      this.myCarousel.selectSlide(1);\n      this.currentQuestionsMedia = _.get(this.questions[0], 'media');\n      this.setImageZoom();\n      this.loadView = true;\n      this.removeAttribute();\n\n      setTimeout(() => {\n        const menuBtn = document.querySelector('#overlay-button') as HTMLElement;\n        if (menuBtn) {\n          menuBtn.focus();\n        }\n      }, 100);\n    }\n\n    this.questionIdsCopy = _.cloneDeep(this.sectionConfig.metadata.childNodes);\n    const maxQuestions = this.sectionConfig.metadata.maxQuestions;\n    if (maxQuestions) {\n      this.questionIds = this.questionIds.slice(0, maxQuestions);\n      this.questionIdsCopy = this.questionIdsCopy.slice(0, maxQuestions);\n    }\n\n    this.noOfQuestions = this.questionIds.length;\n    this.viewerService.initialize(this.sectionConfig, this.threshold, this.questionIds, this.parentConfig);\n    this.checkCompatibilityLevel(this.sectionConfig.metadata.compatibilityLevel);\n    this.initialTime = this.initialSlideDuration = new Date().getTime();\n    this.timeLimit = this.sectionConfig.metadata?.timeLimits?.maxTime || 0;\n    this.warningTime = this.sectionConfig.metadata?.timeLimits?.warningTime || 0;\n    this.showTimer = this.sectionConfig.metadata?.showTimer?.toLowerCase() !== 'no';\n    this.showFeedBack = this.sectionConfig.metadata?.showFeedback?.toLowerCase() !== 'no';\n    this.showUserSolution = this.sectionConfig.metadata?.showSolutions?.toLowerCase() !== 'no';\n    this.startPageInstruction = this.sectionConfig.metadata?.instructions?.default || this.parentConfig.instructions;\n    this.linearNavigation = this.sectionConfig.metadata.navigationMode === 'non-linear' ? false : true;\n    this.showHints = this.sectionConfig.metadata?.showHints?.toLowerCase() !== 'no';\n    this.points = this.sectionConfig.metadata?.points;\n\n    this.allowSkip = this.sectionConfig.metadata?.allowSkip?.toLowerCase() !== 'no';\n    this.showStartPage = this.sectionConfig.metadata?.showStartPage?.toLowerCase() !== 'no';\n    this.totalScore = this.sectionConfig.metadata?.maxScore;\n    this.progressBarClass = this.parentConfig.isSectionsAvailable ? this.mainProgressBar.find(item => item.isActive)?.children :\n      this.mainProgressBar;\n\n    this.questions = this.viewerService.getSectionQuestions(this.sectionConfig.metadata.identifier);\n    this.sortQuestions();\n    this.viewerService.updateSectionQuestions(this.sectionConfig.metadata.identifier, this.questions);\n    this.resetQuestionState();\n    if (this.jumpToQuestion) {\n      this.goToQuestion(this.jumpToQuestion);\n    } else if (this.threshold === 1) {\n      this.viewerService.getQuestion();\n    } else if (this.threshold > 1) {\n      this.viewerService.getQuestions();\n    }\n\n    if (!this.sectionConfig.metadata?.children?.length) {\n      this.loadView = true;\n      this.disableNext = true;\n    }\n  }\n\n  removeAttribute() {\n    setTimeout(() => {\n      const firstSlide = document.querySelector('.carousel.slide') as HTMLElement;\n      if (firstSlide) {\n        firstSlide.removeAttribute(\"tabindex\");\n      }\n    }, 100);\n  }\n\n  sortQuestions() {\n    if (this.questions.length && this.questionIds.length) {\n      const ques = [];\n      this.questionIds.forEach((questionId) => {\n        const que = this.questions.find(question => question.identifier === questionId);\n        if (que) {\n          ques.push(que);\n        }\n      });\n      this.questions = ques;\n    }\n  }\n\n  createSummaryObj() {\n    const classObj = _.groupBy(this.progressBarClass, 'class');\n    return {\n      skipped: classObj?.skipped?.length || 0,\n      correct: classObj?.correct?.length || 0,\n      wrong: classObj?.wrong?.length || 0,\n      partial: classObj?.partial?.length || 0\n    };\n  }\n\n  nextSlide() {\n    this.currentQuestionsMedia = _.get(this.questions[this.currentSlideIndex], 'media');\n\n    this.getQuestion();\n    this.viewerService.raiseHeartBeatEvent(eventName.nextClicked, TelemetryType.interact, this.myCarousel.getCurrentSlideIndex() + 1);\n    this.viewerService.raiseHeartBeatEvent(eventName.nextClicked, TelemetryType.impression, this.myCarousel.getCurrentSlideIndex() + 1);\n\n    if (this.currentSlideIndex !== this.questions.length) {\n      this.currentSlideIndex = this.currentSlideIndex + 1;\n    }\n\n    if (!this.initializeTimer) {\n      this.initializeTimer = true;\n    }\n\n    if (this.myCarousel.getCurrentSlideIndex() === this.noOfQuestions) {\n      this.emitSectionEnd();\n      return;\n    }\n\n    if (this.myCarousel.isLast(this.myCarousel.getCurrentSlideIndex()) || this.noOfQuestions === this.myCarousel.getCurrentSlideIndex()) {\n      this.calculateScore();\n    }\n\n    if (this.myCarousel.getCurrentSlideIndex() > 0 &&\n      this.questions[this.myCarousel.getCurrentSlideIndex() - 1].qType === 'MCQ' && this.currentOptionSelected) {\n      const option = this.currentOptionSelected && this.currentOptionSelected['option'] ? this.currentOptionSelected['option'] : undefined;\n      const identifier = this.questions[this.myCarousel.getCurrentSlideIndex() - 1].identifier;\n      const qType = this.questions[this.myCarousel.getCurrentSlideIndex() - 1].qType;\n      this.viewerService.raiseResponseEvent(identifier, qType, option);\n    }\n\n    if (this.questions[this.myCarousel.getCurrentSlideIndex()]) {\n      this.setSkippedClass(this.myCarousel.getCurrentSlideIndex());\n    }\n    this.myCarousel.move(this.carouselConfig.NEXT);\n    this.setImageZoom();\n    this.resetQuestionState();\n    this.clearTimeInterval();\n  }\n\n  prevSlide() {\n    this.disableNext = false;\n    this.currentSolutions = undefined;\n    this.viewerService.raiseHeartBeatEvent(eventName.prevClicked, TelemetryType.interact, this.myCarousel.getCurrentSlideIndex() - 1);\n    this.showAlert = false;\n\n    if (this.currentSlideIndex !== this.questions.length) {\n      this.currentSlideIndex = this.currentSlideIndex + 1;\n    }\n\n    if (this.myCarousel.getCurrentSlideIndex() + 1 === this.noOfQuestions && this.endPageReached) {\n      this.endPageReached = false;\n    } else {\n      this.myCarousel.move(this.carouselConfig.PREV);\n    }\n    this.currentSlideIndex = this.myCarousel.getCurrentSlideIndex();\n    this.active = this.currentSlideIndex === 0 && this.sectionIndex === 0 && this.showStartPage;\n    this.currentQuestionsMedia = _.get(this.questions[this.myCarousel.getCurrentSlideIndex() - 1], 'media');\n    this.setImageZoom();\n    this.setSkippedClass(this.myCarousel.getCurrentSlideIndex() - 1);\n  }\n\n  getQuestion() {\n    if (this.myCarousel.getCurrentSlideIndex() > 0\n      && ((this.threshold * this.noOfTimesApiCalled) - 1) === this.myCarousel.getCurrentSlideIndex()\n      && this.threshold * this.noOfTimesApiCalled >= this.questions.length && this.threshold > 1) {\n      this.viewerService.getQuestions();\n    }\n\n    if (this.myCarousel.getCurrentSlideIndex() > 0\n      && this.questions[this.myCarousel.getCurrentSlideIndex()] === undefined && this.threshold > 1) {\n      this.viewerService.getQuestions();\n    }\n\n    if (this.threshold === 1 && this.myCarousel.getCurrentSlideIndex() >= 0) {\n      this.viewerService.getQuestion();\n    }\n  }\n\n  resetQuestionState() {\n    this.active = false;\n    this.showAlert = false;\n    this.optionSelectedObj = undefined;\n    this.currentOptionSelected = undefined;\n    this.currentQuestion = undefined;\n    this.currentOptions = undefined;\n    this.currentSolutions = undefined;\n  }\n\n  activeSlideChange(event) {\n      this.initialSlideDuration = new Date().getTime();\n  }\n\n  nextSlideClicked(event) {\n    if (this.showRootInstruction && this.parentConfig.isSectionsAvailable) {\n      this.showRootInstruction = false;\n      return;\n    }\n    if (this.myCarousel.getCurrentSlideIndex() === 0) {\n      return this.nextSlide();\n    }\n    if (event?.type === 'next') {\n      this.validateSelectedOption(this.optionSelectedObj, 'next');\n    }\n  }\n\n  previousSlideClicked(event) {\n    if (event.event === 'previous clicked') {\n      if (this.optionSelectedObj && this.showFeedBack) {\n        this.stopAutoNavigation = false;\n        this.validateSelectedOption(this.optionSelectedObj, 'previous');\n      } else {\n        this.stopAutoNavigation = true;\n        if (this.currentSlideIndex === 0 && this.parentConfig.isSectionsAvailable && this.getCurrentSectionIndex() > 0) {\n          const previousSectionId = this.mainProgressBar[this.getCurrentSectionIndex() - 1].identifier;\n          this.jumpToSection(previousSectionId);\n          return;\n        }\n        this.prevSlide();\n      }\n    }\n  }\n\n  getCurrentSectionIndex(): number {\n    const currentSectionId = this.sectionConfig.metadata.identifier;\n    return this.mainProgressBar.findIndex(section => section.identifier === currentSectionId);\n  }\n\n  goToSlideClicked(event, index) {\n    if (!this.progressBarClass?.length) {\n      if (index === 0) {\n        this.jumpSlideIndex = 0;\n        this.goToSlide(this.jumpSlideIndex);\n      }\n      return;\n    }\n    event.stopPropagation();\n    this.active = false;\n    this.jumpSlideIndex = index;\n    if (this.optionSelectedObj && this.showFeedBack) {\n      this.stopAutoNavigation = false;\n      this.validateSelectedOption(this.optionSelectedObj, 'jump');\n    } else {\n      this.stopAutoNavigation = true;\n      this.goToSlide(this.jumpSlideIndex);\n    }\n  }\n\n  onEnter(event, index) {\n    if (event.keyCode === 13) {\n      event.stopPropagation();\n      this.goToSlideClicked(event, index);\n    }\n  }\n\n  jumpToSection(identifier: string) {\n    this.showRootInstruction = false;\n    this.emitSectionEnd(false, identifier);\n  }\n\n  onSectionEnter(event, identifier: string) {\n    if (event.keyCode === 13) {\n      event.stopPropagation();\n      if (this.optionSelectedObj) {\n        this.validateSelectedOption(this.optionSelectedObj, 'jump');\n      }\n      this.jumpToSection(identifier);\n    }\n  }\n\n  onScoreBoardClicked() {\n    this.viewerService.updateSectionQuestions(this.sectionConfig.metadata.identifier, this.questions);\n    this.showScoreBoard.emit();\n  }\n\n  onScoreBoardEnter(event: KeyboardEvent) {\n    event.stopPropagation();\n    if (event.keyCode === 13) {\n      this.onScoreBoardClicked();\n    }\n  }\n\n  focusOnNextButton() {\n    setTimeout(() => {\n      const nextBtn = document.querySelector('.quml-navigation__next') as HTMLElement;\n      if (nextBtn) {\n        nextBtn.focus();\n      }\n    }, 100);\n  }\n\n  getOptionSelected(optionSelected) {\n    this.focusOnNextButton();\n    this.active = true;\n    this.currentOptionSelected = optionSelected;\n    const currentIndex = this.myCarousel.getCurrentSlideIndex() - 1;\n    this.viewerService.raiseHeartBeatEvent(eventName.optionClicked, TelemetryType.interact, this.myCarousel.getCurrentSlideIndex());\n\n    // This optionSelected comes empty whenever the try again is clicked on feedback popup\n    if (_.isEmpty(optionSelected?.option)) {\n      this.optionSelectedObj = undefined;\n      this.currentSolutions = undefined;\n      this.updateScoreBoard(currentIndex, 'skipped');\n    } else {\n      this.optionSelectedObj = optionSelected;\n      this.currentSolutions = !_.isEmpty(optionSelected.solutions) ? optionSelected.solutions : undefined;\n    }\n    this.media = this.questions[this.myCarousel.getCurrentSlideIndex() - 1].media;\n\n    if (this.currentSolutions) {\n      this.currentSolutions.forEach((ele, index) => {\n        if (ele.type === 'video') {\n          this.media.forEach((e) => {\n            if (e.id === this.currentSolutions[index].value) {\n              this.currentSolutions[index].type = 'video';\n              this.currentSolutions[index].src = e.src;\n              this.currentSolutions[index].thumbnail = e.thumbnail;\n            }\n          });\n        }\n      });\n    }\n    if (!this.showFeedBack) {\n      this.validateSelectedOption(this.optionSelectedObj);\n    }\n  }\n\n  durationEnds() {\n    this.showSolution = false;\n    this.showAlert = false;\n    this.emitSectionEnd(true);\n  }\n\n  private checkCompatibilityLevel(compatibilityLevel) {\n    if (compatibilityLevel) {\n      const checkContentCompatible = this.errorService.checkContentCompatibility(compatibilityLevel);\n\n      if (!checkContentCompatible.isCompitable) {\n        this.viewerService.raiseExceptionLog(errorCode.contentCompatibility, errorMessage.contentCompatibility,\n          checkContentCompatible.error, this.sectionConfig?.config?.traceId);\n      }\n    }\n  }\n\n  emitSectionEnd(isDurationEnded: boolean = false, jumpToSection?: string) {\n    const eventObj: any = {\n      summary: this.createSummaryObj(),\n      score: this.calculateScore(),\n      durationSpent: this.utilService.getTimeSpentText(this.initialTime),\n      slideIndex: this.myCarousel.getCurrentSlideIndex(),\n      isDurationEnded,\n    };\n    if (jumpToSection) {\n      eventObj.jumpToSection = jumpToSection;\n    }\n    this.viewerService.updateSectionQuestions(this.sectionConfig.metadata.identifier, this.questions);\n    this.sectionEnd.emit(eventObj);\n  }\n\n  closeAlertBox(event) {\n    if (event?.type === 'close') {\n      this.viewerService.raiseHeartBeatEvent(eventName.closedFeedBack, TelemetryType.interact, this.myCarousel.getCurrentSlideIndex());\n    } else if (event?.type === 'tryAgain') {\n      this.tryAgainClicked = true;\n      setTimeout(() => {\n        this.tryAgainClicked = false;\n      }, 2000);\n      this.viewerService.raiseHeartBeatEvent(eventName.tryAgain, TelemetryType.interact, this.myCarousel.getCurrentSlideIndex());\n    }\n    this.showAlert = false;\n  }\n\n  setSkippedClass(index) {\n    if (this.progressBarClass && _.get(this.progressBarClass[index], 'class') === 'unattempted') {\n      this.progressBarClass[index].class = 'skipped';\n    }\n  }\n\n  sideBarEvents(event: ISideBarEvent) {\n    if (event.type === 'OPEN_MENU' || event.type === 'CLOSE_MENU') {\n      this.handleSideBarAccessibility(event);\n    }\n    this.viewerService.raiseHeartBeatEvent(event.type, TelemetryType.interact, this.myCarousel.getCurrentSlideIndex() + 1);\n  }\n\n  handleSideBarAccessibility(event) {\n    const navBlock = document.querySelector('.navBlock') as HTMLInputElement;\n    const overlayInput = document.querySelector('#overlay-input') as HTMLElement;\n    const overlayButton = document.querySelector('#overlay-button') as HTMLElement;\n    const sideBarList = document.querySelector('#sidebar-list') as HTMLElement;\n\n    if (event.type === 'OPEN_MENU') {\n      const isMobile = this.sectionConfig.config?.sideMenu?.showExit;\n      this.disabledHandle = isMobile ? maintain.hidden({ filter: [ sideBarList, overlayButton, overlayInput ] }) : maintain.tabFocus({ context: navBlock });\n      this.subscription = fromEvent(document, 'keydown').subscribe((e: KeyboardEvent) => {\n        if (e['key'] === 'Escape') {\n          const inputChecked = document.getElementById('overlay-input') as HTMLInputElement;\n          inputChecked.checked = false;\n          document.getElementById('playerSideMenu').style.visibility = 'hidden';\n          document.querySelector<HTMLElement>('.navBlock').style.marginLeft = '-100%';\n          this.viewerService.raiseHeartBeatEvent('CLOSE_MENU', TelemetryType.interact, this.myCarousel.getCurrentSlideIndex() + 1);\n          this.disabledHandle.disengage();\n          this.subscription.unsubscribe();\n          this.disabledHandle = null;\n          this.subscription = null;\n        }\n      });\n    } else if (event.type === 'CLOSE_MENU' && this.disabledHandle) {\n      this.disabledHandle.disengage();\n      this.disabledHandle = null;\n      if (this.subscription) {\n        this.subscription.unsubscribe();\n        this.subscription = null;\n      }\n    }\n  }\n\n  validateSelectedOption(option, type?: string) {\n    const selectedOptionValue = option?.option?.value;\n    const currentIndex = this.myCarousel.getCurrentSlideIndex() - 1;\n    const isQuestionSkipAllowed = !this.optionSelectedObj &&\n      this.allowSkip && this.utilService.getQuestionType(this.questions, currentIndex) === 'MCQ';\n    const isSubjectiveQuestion = this.utilService.getQuestionType(this.questions, currentIndex) === 'SA';\n    const onStartPage = this.startPageInstruction && this.myCarousel.getCurrentSlideIndex() === 0;\n    const isActive = !this.optionSelectedObj && this.active;\n    const selectedQuestion = this.questions[currentIndex];\n\n    if (this.optionSelectedObj) {\n      const key = this.utilService.getKeyValue(Object.keys(selectedQuestion.responseDeclaration));\n      this.currentQuestion = selectedQuestion.body;\n      this.currentOptions = selectedQuestion.interactions[key].options;\n\n      const getParams = () => {\n        if (selectedQuestion.qType.toUpperCase() === 'MCQ' && selectedQuestion?.editorState?.options) {\n          return selectedQuestion.editorState.options;\n        } else if (selectedQuestion.qType.toUpperCase() === 'MCQ' && !_.isEmpty(selectedQuestion?.editorState)) {\n          return [selectedQuestion?.editorState];\n        } else {\n          return [];\n        }\n      };\n      if (option.cardinality === 'single') {\n        const correctOptionValue = Number(selectedQuestion.responseDeclaration[key].correctResponse.value);\n        this.slideDuration = Math.round((new Date().getTime() - this.initialSlideDuration) / 1000);\n        const edataItem: any = {\n          'id': selectedQuestion.identifier,\n          'title': selectedQuestion.name,\n          'desc': selectedQuestion.description,\n          'type': selectedQuestion.qType.toLowerCase(),\n          'maxscore': selectedQuestion.responseDeclaration[key].maxScore || 0,\n          'params': getParams()\n        };\n\n        if (edataItem && this.parentConfig.isSectionsAvailable) {\n          edataItem.sectionId = this.sectionConfig.metadata.identifier;\n        }\n\n        this.showAlert = true;\n        if (option.option?.value === correctOptionValue) {\n          const currentScore = this.getScore(currentIndex, key, true);\n          this.viewerService.raiseAssesEvent(edataItem, currentIndex + 1, 'Yes', currentScore, [option.option], this.slideDuration);\n          this.alertType = 'correct';\n          if (this.showFeedBack)\n            this.correctFeedBackTimeOut(type);\n          this.updateScoreBoard(currentIndex, 'correct', undefined, currentScore);\n        } else {\n          const currentScore = this.getScore(currentIndex, key, false, option);\n          this.alertType = 'wrong';\n          const classType = this.progressBarClass[currentIndex].class === 'partial' ? 'partial' : 'wrong';\n          this.updateScoreBoard(currentIndex, classType, selectedOptionValue, currentScore);\n        }\n      }\n      if (option.cardinality === 'multiple') {\n        const responseDeclaration = this.questions[currentIndex].responseDeclaration;\n        const currentScore = this.utilService.getMultiselectScore(option.option, responseDeclaration);\n        this.showAlert = true;\n        if (currentScore === 0) {\n          this.alertType = 'wrong';\n          this.updateScoreBoard((currentIndex + 1), 'wrong');\n        } else {\n          this.updateScoreBoard(((currentIndex + 1)), 'correct', undefined, currentScore);\n          if (this.showFeedBack)\n            this.correctFeedBackTimeOut(type);\n          this.alertType = 'correct';\n        }\n      }\n      this.progressBarClass[currentIndex].cardinality = _.get(this.optionSelectedObj, 'cardinality');\n      this.progressBarClass[currentIndex].option = _.get(this.optionSelectedObj, 'option');\n      this.optionSelectedObj = undefined;\n    } else if ((isQuestionSkipAllowed) || isSubjectiveQuestion || onStartPage || isActive) {\n      this.nextSlide();\n    } else if (this.startPageInstruction && !this.optionSelectedObj && !this.active && !this.allowSkip &&\n      this.myCarousel.getCurrentSlideIndex() > 0 && this.utilService.getQuestionType(this.questions, currentIndex) === 'MCQ'\n      && this.utilService.canGo(this.progressBarClass[this.myCarousel.getCurrentSlideIndex()])) {\n      this.infoPopupTimeOut();\n    } else if (!this.optionSelectedObj && !this.active && !this.allowSkip && this.myCarousel.getCurrentSlideIndex() >= 0\n      && this.utilService.getQuestionType(this.questions, currentIndex) === 'MCQ'\n      && this.utilService.canGo(this.progressBarClass[this.myCarousel.getCurrentSlideIndex()])) {\n      this.infoPopupTimeOut();\n    }\n  }\n\n  infoPopupTimeOut() {\n    this.infoPopup = true;\n    setTimeout(() => {\n      this.infoPopup = false;\n    }, 2000);\n  }\n\n  correctFeedBackTimeOut(type?: string) {\n    this.intervalRef = setTimeout(() => {\n      this.showAlert = false;\n      if (!this.myCarousel.isLast(this.myCarousel.getCurrentSlideIndex()) && type === 'next') {\n        this.nextSlide();\n      } else if (type === 'previous' && !this.stopAutoNavigation) {\n        this.prevSlide();\n      } else if (type === 'jump' && !this.stopAutoNavigation) {\n        this.goToSlide(this.jumpSlideIndex);\n      } else if (this.myCarousel.isLast(this.myCarousel.getCurrentSlideIndex())) {\n        this.endPageReached = true;\n        this.emitSectionEnd();\n      }\n    }, 4000);\n  }\n\n  goToSlide(index) {\n    this.viewerService.raiseHeartBeatEvent(eventName.goToQuestion, TelemetryType.interact, this.myCarousel.getCurrentSlideIndex());\n    this.disableNext = false;\n    this.currentSlideIndex = index;\n    this.showRootInstruction = false;\n    if (index === 0) {\n      this.optionSelectedObj = undefined;\n      this.myCarousel.selectSlide(0);\n      this.active = this.currentSlideIndex === 0 && this.sectionIndex === 0 && this.showStartPage;\n      this.showRootInstruction = true;\n      if (!this.sectionConfig.metadata?.children?.length) {\n        this.disableNext = true;\n      }\n      return;\n    }\n    this.currentQuestionsMedia = _.get(this.questions[this.currentSlideIndex - 1], 'media');\n    this.setSkippedClass(this.currentSlideIndex - 1);\n    if (!this.initializeTimer) {\n      this.initializeTimer = true;\n    }\n    if (this.questions[index - 1] === undefined) {\n      this.showQuestions = false;\n      this.viewerService.getQuestions(0, index);\n      this.currentSlideIndex = index;\n    } else if (this.questions[index - 1] !== undefined) {\n      this.myCarousel.selectSlide(index);\n    }\n    this.setImageZoom();\n    this.currentSolutions = undefined;\n    this.highlightQuestion();\n  }\n\n  goToQuestion(event) {\n    this.active = false;\n    this.showRootInstruction = false;\n    this.disableNext = false;\n    this.initializeTimer = true;\n    const index = event.questionNo;\n    this.viewerService.getQuestions(0, index);\n    this.currentSlideIndex = index;\n    this.myCarousel.selectSlide(index);\n    this.highlightQuestion();\n  }\n\n  highlightQuestion() {\n    const currentQuestion = this.questions[this.currentSlideIndex - 1];\n    const questionType = currentQuestion?.qType?.toUpperCase();\n    const element = document.getElementById(currentQuestion?.identifier) as HTMLElement;\n    if (element && questionType) {\n      let questionTitleElement;\n\n      switch (questionType) {\n        case 'MCQ':\n          questionTitleElement = element.querySelector('.mcq-title') as HTMLElement;\n          break;\n        default:\n          questionTitleElement = element.querySelector('.question-container') as HTMLElement;\n      }\n\n      if (questionTitleElement) {\n        setTimeout(() => {\n          questionTitleElement.focus();\n        }, 0);\n      }\n    }\n  }\n\n  getSolutions() {\n    this.showAlert = false;\n    this.viewerService.raiseHeartBeatEvent(eventName.showAnswer, TelemetryType.interact, this.myCarousel.getCurrentSlideIndex());\n    this.viewerService.raiseHeartBeatEvent(eventName.showAnswer, TelemetryType.impression, this.myCarousel.getCurrentSlideIndex());\n    const currentIndex = this.myCarousel.getCurrentSlideIndex() - 1;\n    this.currentQuestion = this.questions[currentIndex].body;\n    this.currentOptions = this.questions[currentIndex].interactions.response1.options;\n    this.currentQuestionsMedia = _.get(this.questions[currentIndex], 'media');\n    setTimeout(() => {\n      this.setImageZoom();\n    });\n    setTimeout(() => {\n      this.setImageHeightWidthClass();\n    }, 100);\n    if (this.currentSolutions) {\n      this.showSolution = true;\n    }\n    this.clearTimeInterval();\n  }\n\n  viewSolution() {\n    this.viewerService.raiseHeartBeatEvent(eventName.viewSolutionClicked, TelemetryType.interact, this.myCarousel.getCurrentSlideIndex());\n    this.showSolution = true;\n    this.showAlert = false;\n    this.currentQuestionsMedia = _.get(this.questions[this.myCarousel.getCurrentSlideIndex() - 1], 'media');\n    setTimeout(() => {\n      this.setImageZoom();\n      this.setImageHeightWidthClass();\n    });\n    clearTimeout(this.intervalRef);\n  }\n\n  closeSolution() {\n    this.setImageZoom();\n    this.viewerService.raiseHeartBeatEvent(eventName.solutionClosed, TelemetryType.interact, this.myCarousel.getCurrentSlideIndex());\n    this.showSolution = false;\n    this.myCarousel.selectSlide(this.currentSlideIndex);\n    this.focusOnNextButton();\n  }\n\n  viewHint() {\n    this.viewerService.raiseHeartBeatEvent(eventName.viewHint, TelemetryType.interact, this.myCarousel.getCurrentSlideIndex());\n  }\n\n  showAnswerClicked(event, question?) {\n    if (event?.showAnswer) {\n      this.focusOnNextButton();\n      this.active = true;\n      this.progressBarClass[this.myCarousel.getCurrentSlideIndex() - 1].class = 'correct';\n      if (question) {\n        const index = this.questions.findIndex(que => que.identifier === question.identifier);\n        if (index > -1) {\n          this.questions[index].isAnswerShown = true;\n          this.viewerService.updateSectionQuestions(this.sectionConfig.metadata.identifier, this.questions);\n        }\n      }\n      this.viewerService.raiseHeartBeatEvent(eventName.showAnswer, TelemetryType.interact, pageId.shortAnswer);\n      this.viewerService.raiseHeartBeatEvent(eventName.pageScrolled, TelemetryType.impression, this.myCarousel.getCurrentSlideIndex() - 1);\n    }\n  }\n\n  getScore(currentIndex, key, isCorrectAnswer, selectedOption?) {\n    if (isCorrectAnswer) {\n      return this.questions[currentIndex].responseDeclaration[key].correctResponse.outcomes.SCORE ?\n        this.questions[currentIndex].responseDeclaration[key].correctResponse.outcomes.SCORE :\n        this.questions[currentIndex].responseDeclaration[key].maxScore || 1;\n    } else {\n      const selectedOptionValue = selectedOption.option.value;\n      const mapping = this.questions[currentIndex].responseDeclaration.mapping;\n      let score = 0;\n\n      if (mapping) {\n        mapping.forEach((val) => {\n          if (selectedOptionValue === val.response) {\n            score = val.outcomes.SCORE || 0;\n            if (val.outcomes.SCORE) {\n              this.progressBarClass[currentIndex].class = 'partial';\n            }\n          }\n        });\n      }\n      return score;\n    }\n  }\n\n  calculateScore() {\n    return this.progressBarClass.reduce((accumulator, element) => accumulator + element.score, 0);\n  }\n\n  updateScoreBoard(index, classToBeUpdated, optionValue?, score?) {\n    this.progressBarClass.forEach((ele) => {\n      if (ele.index - 1 === index) {\n        ele.class = classToBeUpdated;\n        ele.score = score ? score : 0;\n\n        if (!this.showFeedBack) {\n          ele.value = optionValue;\n        }\n      }\n    });\n  }\n\n  /* End of score methods  */\n\n  /* Start of Image zoom related */\n  setImageHeightWidthClass() {\n    document.querySelectorAll('[data-asset-variable]').forEach(image => {\n      image.removeAttribute('class');\n      if (image.clientHeight > image.clientWidth) {\n        image.setAttribute('class', 'portrait');\n      } else if (image.clientHeight < image.clientWidth) {\n        image.setAttribute('class', 'landscape');\n      } else {\n        image.setAttribute('class', 'neutral');\n      }\n    });\n  }\n\n  setImageZoom() {\n    const index = this.myCarousel.getCurrentSlideIndex() - 1;\n    const currentQuestionId = this.questions[index]?.identifier;\n    document.querySelectorAll('[data-asset-variable]').forEach(image => {\n      const imageId = image.getAttribute('data-asset-variable');\n      image.setAttribute('class', 'option-image');\n      image.setAttribute('id', imageId);\n      _.forEach(this.currentQuestionsMedia, (val) => {\n        if (imageId === val.id) {\n          if (this.sectionConfig.metadata.isAvailableLocally && this.parentConfig.baseUrl) {\n            if (currentQuestionId) {\n              image['src'] = `${this.parentConfig.baseUrl}/${currentQuestionId}/${val.src}`;\n            }\n          } else if (val.baseUrl) {\n            image['src'] = val.baseUrl + val.src;\n          }\n        }\n      });\n      const divElement = document.createElement('div');\n      divElement.setAttribute('class', 'magnify-icon');\n      divElement.onclick = (event) => {\n        this.viewerService.raiseHeartBeatEvent(eventName.zoomClicked, TelemetryType.interact, this.myCarousel.getCurrentSlideIndex());\n        this.zoomImgSrc = image['src'];\n        this.showZoomModal = true;\n        const zoomImage = document.getElementById('imageModal');\n        if (zoomImage.clientHeight > image.clientWidth) {\n          zoomImage.setAttribute('class', 'portrait');\n        } else if (image.clientHeight < image.clientWidth) {\n          zoomImage.setAttribute('class', 'landscape');\n        } else {\n          zoomImage.setAttribute('class', 'neutral');\n        }\n        event.stopPropagation();\n      };\n      image.parentNode.insertBefore(divElement, image.nextSibling);\n    });\n  }\n\n  // Method Name changed\n  zoomIn() {\n    this.viewerService.raiseHeartBeatEvent(eventName.zoomInClicked, TelemetryType.interact, this.myCarousel.getCurrentSlideIndex());\n    this.imageZoomCount = this.imageZoomCount + 10;\n    this.setImageModalHeightWidth();\n  }\n\n  // Method Name changed\n  zoomOut() {\n    this.viewerService.raiseHeartBeatEvent(eventName.zoomOutClicked, TelemetryType.interact, this.myCarousel.getCurrentSlideIndex());\n    if (this.imageZoomCount > 100) {\n      this.imageZoomCount = this.imageZoomCount - 10;\n      this.setImageModalHeightWidth();\n    }\n  }\n\n  setImageModalHeightWidth() {\n    this.imageModal.nativeElement.style.width = `${this.imageZoomCount}%`;\n    this.imageModal.nativeElement.style.height = `${this.imageZoomCount}%`;\n  }\n\n  closeZoom() {\n    this.viewerService.raiseHeartBeatEvent(eventName.zoomCloseClicked, TelemetryType.interact, this.myCarousel.getCurrentSlideIndex());\n    document.getElementById('imageModal').removeAttribute('style');\n    this.showZoomModal = false;\n  }\n  /* End of Image zoom related */\n\n  clearTimeInterval() {\n    if (this.intervalRef) {\n      clearInterval(this.intervalRef);\n    }\n  }\n\n  @HostListener('window:beforeunload')\n  ngOnDestroy() {\n    this.destroy$.next(true);\n    this.destroy$.unsubscribe();\n    this.errorService.getInternetConnectivityError.unsubscribe();\n    if (this.subscription) {\n      this.subscription.unsubscribe();\n    }\n  }\n}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {QumlLibraryComponent} from './quml-library.component';\nimport {McqComponent} from './mcq/mcq.component';\nimport {SaComponent} from './sa/sa.component';\nimport {CarouselModule} from 'ngx-bootstrap/carousel';\nimport {HeaderComponent} from './header/header.component';\nimport {McqQuestionComponent} from './mcq-question/mcq-question.component';\nimport {McqOptionComponent} from './mcq-option/mcq-option.component';\nimport {QumlPopupComponent} from './quml-popup/quml-popup.component';\nimport {McqImageOptionComponent} from './mcq-image-option/mcq-image-option.component';\nimport {ZoomInComponent} from './icon/zoom-in/zoom-in.component';\nimport {StarComponent} from './icon/star/star.component';\nimport {PreviousComponent} from './icon/previous/previous.component';\nimport {NextComponent} from './icon/next/next.component';\nimport {BookmarkComponent} from './icon/bookmark/bookmark.component';\nimport {HintComponent} from './icon/hint/hint.component';\nimport {AnsComponent} from './icon/ans/ans.component';\nimport {ShareComponent} from './icon/share/share.component';\nimport {CorrectComponent} from './icon/correct/correct.component';\nimport {ScoreboardComponent} from './scoreboard/scoreboard.component';\nimport {StartpageComponent} from './startpage/startpage.component';\nimport {TimerComponent} from './icon/timer/timer.component';\nimport {ContentComponent} from './icon/content/content.component';\nimport {StartpagestariconComponent} from './icon/startpagestaricon/startpagestaricon.component';\nimport {PreviousActiveComponent} from './icon/previous-active/previous-active.component';\nimport {NextActiveComponent} from './icon/next-active/next-active.component';\nimport {AlertComponent} from './alert/alert.component';\nimport {CloseComponent} from './icon/close/close.component';\nimport {McqSolutionsComponent} from './mcq-solutions/mcq-solutions.component';\nimport {DurationtimerComponent} from './icon/durationtimer/durationtimer.component';\nimport {AudioComponent} from './icon/audio/audio.component';\nimport {WrongComponent} from './icon/wrong/wrong.component';\nimport {MenuComponent} from './icon/menu/menu.component';\nimport {SunbirdPlayerSdkModule} from '@project-sunbird/sunbird-player-sdk-v9';\nimport {QumlLibraryService} from './quml-library.service';\nimport {SafeHtmlPipe} from './pipes/safe-html/safe-html.pipe';\nimport {MainPlayerComponent} from './main-player/main-player.component';\nimport {SectionPlayerComponent} from './section-player/section-player.component';\nimport {TranslateLoader, TranslateModule} from '@ngx-translate/core';\nimport {HttpClient} from '@angular/common/http';\nimport {TranslateHttpLoader} from '@ngx-translate/http-loader';\n\n\n@NgModule({\n    declarations: [\n        QumlLibraryComponent,\n        McqComponent,\n        HeaderComponent,\n        SaComponent,\n        McqQuestionComponent,\n        McqOptionComponent,\n        QumlPopupComponent,\n        McqImageOptionComponent,\n        ZoomInComponent,\n        StarComponent,\n        PreviousComponent,\n        NextComponent,\n        PreviousActiveComponent,\n        BookmarkComponent,\n        HintComponent,\n        AnsComponent,\n        ShareComponent,\n        CorrectComponent,\n        ScoreboardComponent,\n        StartpageComponent,\n        TimerComponent,\n        ContentComponent,\n        StartpagestariconComponent,\n        NextActiveComponent,\n        AlertComponent,\n        CloseComponent,\n        McqSolutionsComponent,\n        DurationtimerComponent,\n        AudioComponent,\n        WrongComponent,\n        MenuComponent,\n        SafeHtmlPipe,\n        MainPlayerComponent,\n        SectionPlayerComponent,\n    ],\n    imports: [\n        CommonModule,\n        CarouselModule,\n        SunbirdPlayerSdkModule,\n        TranslateModule.forRoot({\n            defaultLanguage: 'hi',\n            loader: {\n                provide: TranslateLoader,\n                useFactory: HttpLoaderFactory,\n                deps: [HttpClient]\n            }\n        })\n    ],\n    providers: [\n        QumlLibraryService\n    ],\n    exports: [MainPlayerComponent]\n})\nexport class QumlLibraryModule {\n}\n\nexport function HttpLoaderFactory(http: HttpClient) {\n    return new TranslateHttpLoader(http, './assets/i18n/', '.json');\n}\n"],"names":["_.isEqual","_.cloneDeep","_.isEmpty","_.chunk","_.forEach","_.map","_.shuffle","_.flattenDeep","_.groupBy","_.get","_.last","_.xorBy","_.uniqBy"],"mappings":"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"}