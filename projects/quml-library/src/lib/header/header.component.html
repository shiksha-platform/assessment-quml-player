<div class="quml-header__container">
  <div>
    <!-- <quml-menu class="quml-menu"></quml-menu> -->
    <div *ngIf="attempts?.max && attempts?.current" class="attempts sb-color-primary fnormal font-weight-bold pl-64">Attempt no {{attempts.current}}/{{attempts.max}}</div>
  </div>

  <div class="quml-header__metadata">
    <ng-container *ngIf="duration">
      <div class="duration mr-16" title="{{minutes}}:{{seconds}}" *ngIf="duration && showTimer && !initializeTimer">
        <quml-durationtimer></quml-durationtimer>
        <span>{{minutes}}:{{seconds}}</span>
      </div>
      <div class="duration mr-16" title="{{minutes}}:{{seconds}}" *ngIf="duration && showTimer && initializeTimer && time">
        <quml-durationtimer></quml-durationtimer>
        <span [ngClass]="{'blink': showWarning}">{{time}}</span> 
      </div>
    </ng-container>
    <ng-container *ngIf="!duration && showTimer && initializeTimer">
      <div class="duration mr-16" title="{{minutes}}:{{seconds}}">
        <quml-durationtimer></quml-durationtimer>
        <span>{{time}}</span>
      </div>
    </ng-container>

    <!-- <div class="star-container">
      <span div class="star">
        <quml-star></quml-star>
      </span>
      <span class="score">
        47
      </span>
    </div> -->
    <div class="quml-navigation" *ngIf="!disableNext && !isMobilePortrait">
      <div class="quml-navigation__previous" (click)="prevSlide()" aria-label="preview slide" title="preview slide" role="navigation"
        [ngClass]="(startPageInstruction && currentSlideIndex === 0) || (!showStartPage && currentSlideIndex === 1) ? 'navigation-icon-disabled': '' " 
        [attr.tabindex]="(startPageInstruction && currentSlideIndex === 0) || (!showStartPage && currentSlideIndex === 1) ? -1 : 0"></div>
      <div class="quml-navigation__next ml-8" (click)="nextSlide()" (keydown.enter)="nextSlide()" aria-label="next slide" title="next slide" *ngIf="!active" role="navigation"
        [ngClass]="disableNext ? 'navigation-icon-disabled': '' " tabindex="0"></div>
      <div class="quml-navigation__next quml-navigation__next--active ml-8" (click)="nextSlide()" (keydown.enter)="nextSlide()" aria-label="next slide" title="next slide" *ngIf="active" role="navigation"
        [ngClass]="disableNext ? 'navigation-icon-disabled': '' " tabindex="0"></div>
    </div>

  </div>
</div>

<div class="quml-header__metadata quml-header__metadata--portrait" *ngIf="!loadScoreBoard && !endPageReached">
  <div class="current-slide fnormal">{{currentSlideIndex}}/{{totalNoOfQuestions}}</div>
  <div class="ml-16" *ngIf="currentSolutions && showFeedBack">
    <quml-ans (click)="showSolution.emit()"></quml-ans>
  </div>
  <div class="quml-navigation ml-auto">
    <div class="quml-navigation__previous" tabindex="0" (click)="prevSlide()" (keydown.enter)="prevSlide()" aria-label="preview slide"></div>
    <div class="quml-navigation__next ml-8" tabindex="0" (click)="nextSlide()" (keydown.enter)="nextSlide()" *ngIf="!active" aria-label="next slide"></div>
    <div class="quml-navigation__next quml-navigation__next--active ml-8" tabindex="0" (click)="nextSlide()" (keydown.enter)="nextSlide()" *ngIf="active" aria-label="next slide"></div>
  </div>

</div>